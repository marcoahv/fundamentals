<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-6 Vite/1 Builds with Vite" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Builds with Vite | ExpoWindow.io</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://marcoahv.github.io/fundamentals/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://marcoahv.github.io/fundamentals/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://marcoahv.github.io/fundamentals/6 Vite/1 Builds with Vite/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Builds with Vite | ExpoWindow.io"><meta data-rh="true" name="description" content="https://youtu.be/QPgNLEOJJFI?si=rV6kQwpNc1e4A9mD"><meta data-rh="true" property="og:description" content="https://youtu.be/QPgNLEOJJFI?si=rV6kQwpNc1e4A9mD"><link data-rh="true" rel="icon" href="/fundamentals/img/logo-white.svg"><link data-rh="true" rel="canonical" href="https://marcoahv.github.io/fundamentals/6 Vite/1 Builds with Vite/"><link data-rh="true" rel="alternate" href="https://marcoahv.github.io/fundamentals/6 Vite/1 Builds with Vite/" hreflang="en"><link data-rh="true" rel="alternate" href="https://marcoahv.github.io/fundamentals/6 Vite/1 Builds with Vite/" hreflang="x-default"><link rel="stylesheet" href="/fundamentals/assets/css/styles.e538837f.css">
<link rel="preload" href="/fundamentals/assets/js/runtime~main.9c7077f2.js" as="script">
<link rel="preload" href="/fundamentals/assets/js/main.c7d3ec1d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/fundamentals/"><div class="navbar__logo"><img src="/fundamentals/img/ew-logo-white.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/fundamentals/img/ew-logo-white.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fundamentals/">WEB DEVELOPMENT</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/fundamentals/category/html/">HTML</a><button aria-label="Toggle the collapsible sidebar category &#x27;HTML&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/fundamentals/category/css/">CSS</a><button aria-label="Toggle the collapsible sidebar category &#x27;CSS&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/fundamentals/category/javascript/">JAVASCRIPT</a><button aria-label="Toggle the collapsible sidebar category &#x27;JAVASCRIPT&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/fundamentals/category/react/">REACT</a><button aria-label="Toggle the collapsible sidebar category &#x27;REACT&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/fundamentals/category/figma/">FIGMA</a><button aria-label="Toggle the collapsible sidebar category &#x27;FIGMA&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/fundamentals/category/vite/">VITE</a><button aria-label="Toggle the collapsible sidebar category &#x27;VITE&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/fundamentals/6 Vite/1 Builds with Vite/">Builds with Vite</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/fundamentals/category/pprojects/">PPROJECTS</a><button aria-label="Toggle the collapsible sidebar category &#x27;PPROJECTS&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/fundamentals/category/freelance/">FREELANCE</a><button aria-label="Toggle the collapsible sidebar category &#x27;FREELANCE&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/fundamentals/category/vim/">VIM</a><button aria-label="Toggle the collapsible sidebar category &#x27;VIM&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/fundamentals/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/fundamentals/category/vite/"><span itemprop="name">VITE</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Builds with Vite</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Builds with Vite</h1><blockquote></blockquote><p><a href="https://youtu.be/QPgNLEOJJFI?si=rV6kQwpNc1e4A9mD" target="_blank" rel="noopener noreferrer">https://youtu.be/QPgNLEOJJFI?si=rV6kQwpNc1e4A9mD</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-installing-vite"><strong>=&gt;</strong> Installing Vite<a href="#-installing-vite" class="hash-link" aria-label="Direct link to -installing-vite" title="Direct link to -installing-vite">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h4><ul><li>This course is about the front-end bundler of the new generation called <strong>Vite</strong>.</li><li>Vite provides a much faster developer experience compared to traditional front-end bundlers like Webpack.</li><li>In this course, we&#x27;ll review most of Vite&#x27;s features step by step to understand how it works and use it efficiently.</li><li>Let&#x27;s start by installing Vite locally using the npm package manager.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a href="#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation">​</a></h4><ul><li>Use the following npm command to install Vite locally.<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm init</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>It will prompt you to enter the project name and choose the framework you&#x27;d like to use. We&#x27;ll use vanilla JavaScript for this course.</li><li>You&#x27;ll also be asked if you want to use TypeScript, but most of this course will use vanilla JavaScript.</li><li>After the prompts, run three sequential npm commands to start the server.</li><li>Access your project in the browser using the provided address.</li><li>Open your project in an editor; for example, Visual Studio Code.</li><li>Install the &quot;Vite&quot; plugin called &quot;vite-plugin-inspect&quot; to inspect resource file transformations.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="vite-plugin-installation">Vite Plugin Installation<a href="#vite-plugin-installation" class="hash-link" aria-label="Direct link to Vite Plugin Installation" title="Direct link to Vite Plugin Installation">​</a></h4><ul><li>Install the &quot;vite-plugin-inspect&quot; plugin using npm.<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm install vite-plugin-inspect --save-dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>Add instructions for the plugin in your Vite configuration file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-the-inspector">Accessing the Inspector<a href="#accessing-the-inspector" class="hash-link" aria-label="Direct link to Accessing the Inspector" title="Direct link to Accessing the Inspector">​</a></h4><ul><li>After adding the plugin instructions, you can access the inspector in the browser.</li><li>Restart the Vite server to make the inspector accessible.</li><li>The inspector will show how Vite transforms your source files at each step.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="file-loading">File Loading<a href="#file-loading" class="hash-link" aria-label="Direct link to File Loading" title="Direct link to File Loading">​</a></h4><ul><li>When you access the root of your Vite server, the loaded file is called <code>index.html</code>, located in the project root.</li><li>This page includes the main JavaScript file, which is loaded as a native ECMAScript module.</li><li>Vite transforms CSS and asset imports to work seamlessly in browsers.</li><li>It processes CSS imports by injecting styles into the page.</li><li>For asset imports, like SVG images, Vite exports them as JavaScript variables, allowing you to use them in your code.</li><li>Assets in the <code>public</code> folder are not processed and are served to the browser as-is.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="main-javascript-file">Main JavaScript File<a href="#main-javascript-file" class="hash-link" aria-label="Direct link to Main JavaScript File" title="Direct link to Main JavaScript File">​</a></h4><ul><li>Open the main JavaScript file to see what&#x27;s happening inside.</li><li>Notice unusual imports, including CSS and SVG files.</li><li>These imports are handled by Vite and are essential to understanding Vite&#x27;s workings.</li><li>Vite transforms CSS imports to apply styles to the page.</li><li>Asset imports from the <code>public</code> folder are treated as static assets.</li><li>Regular ECMAScript module imports are also supported.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="starting-fresh">Starting Fresh<a href="#starting-fresh" class="hash-link" aria-label="Direct link to Starting Fresh" title="Direct link to Starting Fresh">​</a></h4><ul><li>Clear the contents of the main.js file.</li><li>Remove the counter.js module and default styles in style.css.</li><li>We&#x27;ll start exploring Vite&#x27;s features step by step in the upcoming lessons.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h4><ul><li>With Vite installed and set up, we are ready to dive into its features and explore how it can streamline front-end development.</li><li>In the next lessons, we&#x27;ll take a closer look at Vite&#x27;s capabilities.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-resolving-npm-dependencies"><strong>=&gt;</strong> Resolving NPM dependencies<a href="#-resolving-npm-dependencies" class="hash-link" aria-label="Direct link to -resolving-npm-dependencies" title="Direct link to -resolving-npm-dependencies">​</a></h3><blockquote></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-1">Introduction<a href="#introduction-1" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h4><ul><li>When we install a Vite project, there are three pre-configured commands inside of <code>package.json</code>.</li><li>These commands are essential for local development, building for production, and previewing your project.</li><li>Let&#x27;s explore these commands and how they utilize Vite&#x27;s capabilities.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="development-server">Development Server<a href="#development-server" class="hash-link" aria-label="Direct link to Development Server" title="Direct link to Development Server">​</a></h4><ul><li>The first command starts the local development server, which we&#x27;ve used previously with <code>npm run dev</code>.</li><li>This command is crucial for developing and testing your application.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="building-for-production">Building for Production<a href="#building-for-production" class="hash-link" aria-label="Direct link to Building for Production" title="Direct link to Building for Production">​</a></h4><ul><li>The second script, <code>build</code>, is used to build your project for production.</li><li>It applies necessary optimizations to improve performance.</li><li>Building for production ensures your app is ready to be deployed.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="preview-server">Preview Server<a href="#preview-server" class="hash-link" aria-label="Direct link to Preview Server" title="Direct link to Preview Server">​</a></h4><ul><li>The <code>preview</code> script starts a basic static web server.</li><li>It serves your built application to simulate a production-like environment.</li><li>This helps you assess how your app behaves in such an environment.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="vite-binary">Vite Binary<a href="#vite-binary" class="hash-link" aria-label="Direct link to Vite Binary" title="Direct link to Vite Binary">​</a></h4><ul><li>All these scripts utilize the Vite binary, which is included when you install the <code>vite</code> npm package.</li><li>The Vite binary is contained within the <code>bin</code> folder inside the <code>node_modules</code> folder.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="starting-development-server">Starting Development Server<a href="#starting-development-server" class="hash-link" aria-label="Direct link to Starting Development Server" title="Direct link to Starting Development Server">​</a></h4><ul><li>To begin, start the development server by running the command:<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm run dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>This command initializes your project for development.</li><li>If you have cleared your main JavaScript file, you&#x27;ll see a blank page in the browser.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="html-modification">HTML Modification<a href="#html-modification" class="hash-link" aria-label="Direct link to HTML Modification" title="Direct link to HTML Modification">​</a></h4><ul><li>Open the <code>index.html</code> file and make changes to the content.</li><li>Any changes are immediately reflected in the browser without manual refresh.</li><li>Since the main script is an ECMAScript module (<code>type=&quot;module&quot;</code>), you can use <code>import</code> and <code>export</code> keywords.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="importing-npm-packages">Importing NPM Packages<a href="#importing-npm-packages" class="hash-link" aria-label="Direct link to Importing NPM Packages" title="Direct link to Importing NPM Packages">​</a></h4><ul><li>To demonstrate importing an npm package, let&#x27;s use the &quot;collect.js&quot; library.</li><li>Install the library with:<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm install collect.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>Add an <code>import</code> statement for the library in your main script.</li><li>Use the library&#x27;s functionality and display the result in the console.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="transformations">Transformations<a href="#transformations" class="hash-link" aria-label="Direct link to Transformations" title="Direct link to Transformations">​</a></h4><ul><li>When importing an npm package, Vite performs transformations.</li><li>It generates a dynamic folder within <code>node_modules</code> to serve the imported library&#x27;s source code.</li><li>This optimization enables libraries to be imported directly from the <code>node_modules</code> folder and used in browsers.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="organizing-source-files">Organizing Source Files<a href="#organizing-source-files" class="hash-link" aria-label="Direct link to Organizing Source Files" title="Direct link to Organizing Source Files">​</a></h4><ul><li>Create a new folder named <code>src</code> in your project root to store source files.</li><li>Move the module <code>a.js</code> into this folder.</li><li>Adjust the import statement in your <code>main.js</code> to reflect the new location.</li><li>Reorganize code by moving the lines that use the &quot;collect.js&quot; library into a separate file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="browser-behavior">Browser Behavior<a href="#browser-behavior" class="hash-link" aria-label="Direct link to Browser Behavior" title="Direct link to Browser Behavior">​</a></h4><ul><li>When the browser requests <code>main.js</code>, it fetches the content.</li><li>If an <code>import</code> statement refers to a module in the <code>node_modules</code> folder, Vite performs necessary transformations.</li><li>The transformed import statement allows direct use of libraries from <code>node_modules</code>.</li><li>This ability to import libraries directly from <code>node_modules</code> is a significant advantage of Vite over basic static servers.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-1">Conclusion<a href="#conclusion-1" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h4><ul><li>Vite simplifies the development process by providing pre-configured scripts for development, production, and preview.</li><li>It optimizes your project for performance and enables seamless import of npm packages directly from the <code>node_modules</code> folder.</li><li>Understanding how Vite transforms your source files is essential for efficient development and optimization.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-css-imports"><strong>=&gt;</strong> CSS imports<a href="#-css-imports" class="hash-link" aria-label="Direct link to -css-imports" title="Direct link to -css-imports">​</a></h3><blockquote></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-2">Introduction<a href="#introduction-2" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h4><ul><li>In this lesson, we&#x27;ll explore how to work with CSS files in Vite projects.</li><li>Currently, there are no styles applied to our page, so let&#x27;s see how we can import and use CSS files.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="importing-a-css-file">Importing a CSS File<a href="#importing-a-css-file" class="hash-link" aria-label="Direct link to Importing a CSS File" title="Direct link to Importing a CSS File">​</a></h4><ul><li>To apply styles to our page, let&#x27;s import a CSS file.</li><li>We&#x27;ll create a new file named <code>3.css</code> and place it inside the <code>src/assets</code> folder.</li><li>In this CSS file, we&#x27;ll add some basic styles, such as setting the background color of the body to dark gray and the text color to white.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="automatic-styling">Automatic Styling<a href="#automatic-styling" class="hash-link" aria-label="Direct link to Automatic Styling" title="Direct link to Automatic Styling">​</a></h4><ul><li>When we import a CSS file, Vite processes it and generates a valid ECMAScript module.</li><li>The generated code includes instructions to inject the CSS code onto the page.</li><li>Styles from the CSS file are assigned to a constant, typically named <code>rawCSS</code>, as a formatted string.</li><li>This string is added to the <code>&lt;style&gt;</code> tag inside the <code>&lt;head&gt;</code> element.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="transformation-of-css-files">Transformation of CSS Files<a href="#transformation-of-css-files" class="hash-link" aria-label="Direct link to Transformation of CSS Files" title="Direct link to Transformation of CSS Files">​</a></h4><ul><li>Vite transforms CSS code into a valid ECMAScript module when the browser requests the CSS file.</li><li>This transformation allows us to directly import CSS files as valid ECMAScript modules.</li><li>The generated code contains the CSS styles as a string, and this string is exported as the default export of the module.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="inline-query-parameter">Inline Query Parameter<a href="#inline-query-parameter" class="hash-link" aria-label="Direct link to Inline Query Parameter" title="Direct link to Inline Query Parameter">​</a></h4><ul><li>Another way to import CSS files is by using the <code>inline</code> query parameter.</li><li>Adding <code>?inline</code> to the import statement retrieves the content of the CSS file as a string.</li><li>This content is stored in a variable, such as <code>styles</code>, and can be manipulated in JavaScript code.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="manipulating-styles">Manipulating Styles<a href="#manipulating-styles" class="hash-link" aria-label="Direct link to Manipulating Styles" title="Direct link to Manipulating Styles">​</a></h4><ul><li>We can manipulate the imported styles in JavaScript code.</li><li>For example, we can create a new <code>&lt;style&gt;</code> element, assign the styles to its <code>innerText</code> property, and append it to the <code>&lt;head&gt;</code> element.</li><li>This manually injects the styles into the page.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-2">Conclusion<a href="#conclusion-2" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h4><ul><li>Vite processes CSS files and generates valid ECMAScript modules that can be directly imported.</li><li>By using the <code>inline</code> query parameter, we can access the CSS content as a string.</li><li>This flexibility allows us to efficiently manage and apply styles in Vite projects.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-css-modules"><strong>=&gt;</strong> CSS modules<a href="#-css-modules" class="hash-link" aria-label="Direct link to -css-modules" title="Direct link to -css-modules">​</a></h3><blockquote></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-3">Introduction<a href="#introduction-3" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h4><ul><li>In this lesson, we&#x27;ll explore how to work with CSS module specifications in Vite projects.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="importing-css-files">Importing CSS Files<a href="#importing-css-files" class="hash-link" aria-label="Direct link to Importing CSS Files" title="Direct link to Importing CSS Files">​</a></h4><ul><li>To work with CSS modules in Vite, we&#x27;ll first import a couple of CSS files into our main script.</li><li>We&#x27;ll create arbitrary CSS files and place them in the <code>src</code> folder.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-css-rules">Creating CSS Rules<a href="#creating-css-rules" class="hash-link" aria-label="Direct link to Creating CSS Rules" title="Direct link to Creating CSS Rules">​</a></h4><ul><li>Within these CSS files, we&#x27;ll define CSS rules. For example, we&#x27;ll create a <code>.heading</code> class that sets the text color to orange in one CSS file.</li><li>In another CSS file, we&#x27;ll use the same <code>.heading</code> selector but apply a different style, setting the font size to 30 pixels.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="applying-css-rules">Applying CSS Rules<a href="#applying-css-rules" class="hash-link" aria-label="Direct link to Applying CSS Rules" title="Direct link to Applying CSS Rules">​</a></h4><ul><li>When we apply the <code>.heading</code> class to an HTML element, both sets of CSS rules will be applied.</li><li>The text color will become orange, and the font size will be set to 30 pixels.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="css-transformation">CSS Transformation<a href="#css-transformation" class="hash-link" aria-label="Direct link to CSS Transformation" title="Direct link to CSS Transformation">​</a></h4><ul><li>Vite converts CSS imports into valid ECMAScript modules.</li><li>These modules include the styles as separate <code>style</code> elements inside the <code>head</code> of the HTML document.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-module-word">Using <code>module</code> Word<a href="#using-module-word" class="hash-link" aria-label="Direct link to using-module-word" title="Direct link to using-module-word">​</a></h4><ul><li>By adding the <code>module</code> keyword to CSS imports, we can instruct Vite to treat them as CSS modules.</li><li>Vite will transform these CSS modules into valid ECMAScript modules with unique class names for each module.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="unique-class-names">Unique Class Names<a href="#unique-class-names" class="hash-link" aria-label="Direct link to Unique Class Names" title="Direct link to Unique Class Names">​</a></h4><ul><li>Each CSS module is assigned a unique hash that is appended to class names.</li><li>This ensures that class names are unique across different CSS modules.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="applying-css-classes">Applying CSS Classes<a href="#applying-css-classes" class="hash-link" aria-label="Direct link to Applying CSS Classes" title="Direct link to Applying CSS Classes">​</a></h4><ul><li>When applying CSS classes, we reference the original class names or their aliases.</li><li>We can manually assign these classes to HTML elements.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="transformation-of-css-modules">Transformation of CSS Modules<a href="#transformation-of-css-modules" class="hash-link" aria-label="Direct link to Transformation of CSS Modules" title="Direct link to Transformation of CSS Modules">​</a></h4><ul><li>Vite applies transformations to CSS modules, converting the original CSS code into valid ECMAScript modules.</li><li>Each module exports an object where the keys are the original class names, and the values are the converted unique class names.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="importing-specific-styles">Importing Specific Styles<a href="#importing-specific-styles" class="hash-link" aria-label="Direct link to Importing Specific Styles" title="Direct link to Importing Specific Styles">​</a></h4><ul><li>When importing CSS modules, we can selectively import only the styles we need.</li><li>This allows us to use unique aliases for specific class names and avoid naming collisions.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-3">Conclusion<a href="#conclusion-3" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h4><ul><li>Vite allows us to work with CSS modules, providing a seamless way to import and use CSS files in our JavaScript code.</li><li>The use of unique class names ensures that styles are correctly applied, even when multiple CSS modules are imported and used in the same project.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-postcss-plugins-tailwindcss-installation"><strong>=&gt;</strong> PostCSS plugins (TailwindCSS installation)<a href="#-postcss-plugins-tailwindcss-installation" class="hash-link" aria-label="Direct link to -postcss-plugins-tailwindcss-installation" title="Direct link to -postcss-plugins-tailwindcss-installation">​</a></h3><blockquote></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-4">Introduction<a href="#introduction-4" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h4><ul><li>In this lesson, we&#x27;ll learn how Vite allows us to apply CSS transformations to CSS inputs using CSS plugins.</li><li>We&#x27;ll specifically explore the integration of the popular PostCSS plugin with the Tailwind CSS framework in Vite projects.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="importing-tailwind-css">Importing Tailwind CSS<a href="#importing-tailwind-css" class="hash-link" aria-label="Direct link to Importing Tailwind CSS" title="Direct link to Importing Tailwind CSS">​</a></h4><ul><li>We&#x27;ve previously seen how to import CSS files into JavaScript modules.</li><li>In this lesson, we&#x27;ll focus on working with CSS modules, including Tailwind CSS.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="installing-tailwind-css">Installing Tailwind CSS<a href="#installing-tailwind-css" class="hash-link" aria-label="Direct link to Installing Tailwind CSS" title="Direct link to Installing Tailwind CSS">​</a></h4><ul><li>To use Tailwind CSS in a Vite project, we first need to install the required packages.</li><li>The installation includes Tailwind CSS, PostCSS, and Autoprefixer.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-files">Configuration Files<a href="#configuration-files" class="hash-link" aria-label="Direct link to Configuration Files" title="Direct link to Configuration Files">​</a></h4><ul><li>After installation, Vite generates two configuration files: <code>tailwind.config.js</code> for Tailwind CSS and a PostCSS configuration file.</li><li>The PostCSS configuration file already contains the necessary plugins for Tailwind CSS support.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="specifying-css-files">Specifying CSS Files<a href="#specifying-css-files" class="hash-link" aria-label="Direct link to Specifying CSS Files" title="Direct link to Specifying CSS Files">​</a></h4><ul><li>We specify the CSS files that include Tailwind CSS classes using the <code>content</code> property in the <code>tailwind.config.js</code> file.</li><li>In this case, we only include <code>index.html</code> as we plan to use Tailwind CSS classes in that file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="adding-tailwind-css-directives">Adding Tailwind CSS Directives<a href="#adding-tailwind-css-directives" class="hash-link" aria-label="Direct link to Adding Tailwind CSS Directives" title="Direct link to Adding Tailwind CSS Directives">​</a></h4><ul><li>We add the Tailwind CSS directives to our main CSS file, such as <code>5.css</code>.</li><li>These directives configure how Tailwind CSS styles are generated and applied.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="restarting-the-server">Restarting the Server<a href="#restarting-the-server" class="hash-link" aria-label="Direct link to Restarting the Server" title="Direct link to Restarting the Server">​</a></h4><ul><li>To apply the changes, we need to restart the development server using <code>npm run Dev</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-tailwind-css-classes">Using Tailwind CSS Classes<a href="#using-tailwind-css-classes" class="hash-link" aria-label="Direct link to Using Tailwind CSS Classes" title="Direct link to Using Tailwind CSS Classes">​</a></h4><ul><li>After the server restarts, we can start using Tailwind CSS classes in our source files.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="applying-tailwind-css">Applying Tailwind CSS<a href="#applying-tailwind-css" class="hash-link" aria-label="Direct link to Applying Tailwind CSS" title="Direct link to Applying Tailwind CSS">​</a></h4><ul><li>We can apply Tailwind CSS classes directly to elements in our HTML.</li><li>Vite converts the CSS file on-the-fly into a valid ECMAScript module and injects the styles into the page.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="hot-module-replacement">Hot Module Replacement<a href="#hot-module-replacement" class="hash-link" aria-label="Direct link to Hot Module Replacement" title="Direct link to Hot Module Replacement">​</a></h4><ul><li>Vite&#x27;s hot module replacement feature allows us to see changes instantly without needing to manually refresh the page.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="css-transformations">CSS Transformations<a href="#css-transformations" class="hash-link" aria-label="Direct link to CSS Transformations" title="Direct link to CSS Transformations">​</a></h4><ul><li>Tailwind CSS directives are first transformed into a complete Tailwind CSS stylesheet by the Tailwind CSS plugin.</li><li>Vite then applies additional transformations to turn the stylesheet into a valid ECMAScript module.</li><li>This module is what gets run in the browser, applying the styles to the page.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-4">Conclusion<a href="#conclusion-4" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h4><ul><li>Vite simplifies the process of working with CSS transformations and plugins.</li><li>The integration of Tailwind CSS and PostCSS in Vite projects makes it easy to apply and use CSS frameworks and plugins efficiently.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-css-pre-processors-sass"><strong>=&gt;</strong> CSS pre-processors (Sass)<a href="#-css-pre-processors-sass" class="hash-link" aria-label="Direct link to -css-pre-processors-sass" title="Direct link to -css-pre-processors-sass">​</a></h3><blockquote></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-5">Introduction<a href="#introduction-5" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h4><ul><li>In this lesson, we&#x27;ll explore how to use CSS preprocessors, focusing on the use of SASS in Vite projects.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="importing-sass">Importing SASS<a href="#importing-sass" class="hash-link" aria-label="Direct link to Importing SASS" title="Direct link to Importing SASS">​</a></h4><ul><li>We&#x27;ll begin by demonstrating how to use SASS in a Vite project.</li><li>To do this, open the main JavaScript file and import a new SASS stylesheet named <code>6.css</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-sass-file">Creating a SASS File<a href="#creating-a-sass-file" class="hash-link" aria-label="Direct link to Creating a SASS File" title="Direct link to Creating a SASS File">​</a></h4><ul><li>Create the <code>6.css</code> file in the <code>assets</code> folder, specifying it as a SASS file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="updating-the-file-extension">Updating the File Extension<a href="#updating-the-file-extension" class="hash-link" aria-label="Direct link to Updating the File Extension" title="Direct link to Updating the File Extension">​</a></h4><ul><li>Change the file extension in the <code>main.js</code> file from <code>.css</code> to <code>.scss</code> to indicate that it&#x27;s a SASS file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="adding-arbitrary-sass-rule">Adding Arbitrary SASS Rule<a href="#adding-arbitrary-sass-rule" class="hash-link" aria-label="Direct link to Adding Arbitrary SASS Rule" title="Direct link to Adding Arbitrary SASS Rule">​</a></h4><ul><li>Add an arbitrary CSS rule in the SASS file, demonstrating the use of SASS syntax.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="removing-tailwind-css-classes">Removing Tailwind CSS Classes<a href="#removing-tailwind-css-classes" class="hash-link" aria-label="Direct link to Removing Tailwind CSS Classes" title="Direct link to Removing Tailwind CSS Classes">​</a></h4><ul><li>In the <code>index.html</code> file, remove any Tailwind CSS classes that were previously applied.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="vites-css-preprocessor-support">Vite&#x27;s CSS Preprocessor Support<a href="#vites-css-preprocessor-support" class="hash-link" aria-label="Direct link to Vite&#x27;s CSS Preprocessor Support" title="Direct link to Vite&#x27;s CSS Preprocessor Support">​</a></h4><ul><li>Vite provides built-in support for various CSS preprocessors such as SASS, LESS, and Stylus.</li><li>To use a specific CSS preprocessor, you need to install the corresponding CSS compiler.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="installing-sass">Installing SASS<a href="#installing-sass" class="hash-link" aria-label="Direct link to Installing SASS" title="Direct link to Installing SASS">​</a></h4><ul><li>In this case, we&#x27;re installing a SASS compiler using the provided command.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="restarting-the-development-server">Restarting the Development Server<a href="#restarting-the-development-server" class="hash-link" aria-label="Direct link to Restarting the Development Server" title="Direct link to Restarting the Development Server">​</a></h4><ul><li>After installing the SASS compiler, restart the development server using <code>npm run Dev</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="applying-sass-styles">Applying SASS Styles<a href="#applying-sass-styles" class="hash-link" aria-label="Direct link to Applying SASS Styles" title="Direct link to Applying SASS Styles">​</a></h4><ul><li>The styles specified within the SASS file are successfully compiled by SASS.</li><li>Vite serves the compiled CSS as a string, which is assigned to the <code>withCSS</code> constant.</li><li>The generated ECMAScript module applies the CSS styles to the page.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="css-transformations-1">CSS Transformations<a href="#css-transformations-1" class="hash-link" aria-label="Direct link to CSS Transformations" title="Direct link to CSS Transformations">​</a></h4><ul><li>Vite transforms the source SASS file into valid CSS syntax.</li><li>The CSS code is further transformed into a valid ECMAScript module for injection into the page.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-css-modules-with-sass">Using CSS Modules with SASS<a href="#using-css-modules-with-sass" class="hash-link" aria-label="Direct link to Using CSS Modules with SASS" title="Direct link to Using CSS Modules with SASS">​</a></h4><ul><li>You can also use CSS modules alongside CSS preprocessors.</li><li>Ensure the file has the <code>module</code> keyword in its name to indicate a CSS module.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="working-with-css-modules">Working with CSS Modules<a href="#working-with-css-modules" class="hash-link" aria-label="Direct link to Working with CSS Modules" title="Direct link to Working with CSS Modules">​</a></h4><ul><li>Demonstrates how to work with CSS modules alongside a CSS preprocessor.</li><li>The unique class names generated by the module system are shown in the console.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="manually-assigning-css-classes">Manually Assigning CSS Classes<a href="#manually-assigning-css-classes" class="hash-link" aria-label="Direct link to Manually Assigning CSS Classes" title="Direct link to Manually Assigning CSS Classes">​</a></h4><ul><li>Manually assign a generated class to an HTML element in the JavaScript code.</li><li>The applied styles are reflected in the browser.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-5">Conclusion<a href="#conclusion-5" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h4><ul><li>Vite simplifies working with CSS preprocessors like SASS by providing built-in support.</li><li>By using CSS modules and preprocessors together, you can create modular and efficient styles in your Vite projects with ease.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-json-imports"><strong>=&gt;</strong> JSON imports<a href="#-json-imports" class="hash-link" aria-label="Direct link to -json-imports" title="Direct link to -json-imports">​</a></h3><blockquote></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-6">Introduction<a href="#introduction-6" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h4><ul><li>Vite simplifies working with JSON files by allowing easy import as native ECMAScript modules.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="importing-json-files">Importing JSON Files<a href="#importing-json-files" class="hash-link" aria-label="Direct link to Importing JSON Files" title="Direct link to Importing JSON Files">​</a></h4><ul><li>To use a JSON file in a JavaScript file, simply import it like a native ECMAScript module.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="demonstrating-json-import">Demonstrating JSON Import<a href="#demonstrating-json-import" class="hash-link" aria-label="Direct link to Demonstrating JSON Import" title="Direct link to Demonstrating JSON Import">​</a></h4><ul><li>Example of importing a JSON file is provided.</li><li>The JSON data is stored in the <code>data</code> variable.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-basic-json-file">Creating a Basic JSON File<a href="#creating-a-basic-json-file" class="hash-link" aria-label="Direct link to Creating a Basic JSON File" title="Direct link to Creating a Basic JSON File">​</a></h4><ul><li>Create a basic JSON file with fields such as <code>name</code> and <code>age</code> to describe a person.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="printing-json-data">Printing JSON Data<a href="#printing-json-data" class="hash-link" aria-label="Direct link to Printing JSON Data" title="Direct link to Printing JSON Data">​</a></h4><ul><li>Demonstration of printing the imported JSON data to the console.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="browser-behavior-1">Browser Behavior<a href="#browser-behavior-1" class="hash-link" aria-label="Direct link to Browser Behavior" title="Direct link to Browser Behavior">​</a></h4><ul><li>Explanation of what happens in the browser when encountering a JSON import.</li><li>Vite processes the JSON file into a valid ECMAScript module for the browser.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="json-transformations">JSON Transformations<a href="#json-transformations" class="hash-link" aria-label="Direct link to JSON Transformations" title="Direct link to JSON Transformations">​</a></h4><ul><li>Vite&#x27;s transformation process converts JSON syntax into ECMAScript syntax.</li><li>This transformation enables JSON files to be imported seamlessly as ECMAScript modules.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-imported-json">Using Imported JSON<a href="#using-imported-json" class="hash-link" aria-label="Direct link to Using Imported JSON" title="Direct link to Using Imported JSON">​</a></h4><ul><li>Since the default export is a JavaScript object, you can easily destructure and extract specific fields, such as <code>name</code> and <code>age</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-6">Conclusion<a href="#conclusion-6" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h4><ul><li>Vite makes working with JSON files in projects effortless, allowing JSON imports as native ECMAScript modules, simplifying data handling in JavaScript.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-static-assets"><strong>=&gt;</strong> Static assets<a href="#-static-assets" class="hash-link" aria-label="Direct link to -static-assets" title="Direct link to -static-assets">​</a></h3><blockquote></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-7">Introduction<a href="#introduction-7" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h4><ul><li>This lesson explores how to import static assets into a Vite project.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-asset-directory">Creating Asset Directory<a href="#creating-asset-directory" class="hash-link" aria-label="Direct link to Creating Asset Directory" title="Direct link to Creating Asset Directory">​</a></h4><ul><li>Create a new directory in the project, named <code>Source/assets/IMG</code>.</li><li>Move the <code>javascript.svg</code> image into this directory.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="importing-an-image">Importing an Image<a href="#importing-an-image" class="hash-link" aria-label="Direct link to Importing an Image" title="Direct link to Importing an Image">​</a></h4><ul><li>Add an import statement in the main JavaScript file to import the <code>javascript.svg</code> image.</li><li>Print the value of the <code>imageURL</code> variable in the console to observe how Vite handles the image import.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="image-import-handling">Image Import Handling<a href="#image-import-handling" class="hash-link" aria-label="Direct link to Image Import Handling" title="Direct link to Image Import Handling">​</a></h4><ul><li>Explanation of how Vite transforms the image import.</li><li>The import query parameter is added to the import path.</li><li>Browser request for the image is transformed into a valid ECMAScript module.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="displaying-the-image">Displaying the Image<a href="#displaying-the-image" class="hash-link" aria-label="Direct link to Displaying the Image" title="Direct link to Displaying the Image">​</a></h4><ul><li>Create an HTML element <code>&lt;img&gt;</code> in the HTML file with an ID of <code>image</code>.</li><li>In JavaScript, obtain the image element using <code>getElementById</code>.</li><li>Assign the <code>imageURL</code> to the <code>src</code> attribute of the image element to display the image on the page.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="importing-other-file-types">Importing Other File Types<a href="#importing-other-file-types" class="hash-link" aria-label="Direct link to Importing Other File Types" title="Direct link to Importing Other File Types">​</a></h4><ul><li>Mention that other file types, like JSON files, can also be imported.</li><li>Demonstrate importing a JSON file with the <code>url</code> query parameter.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="url-query-parameter">URL Query Parameter<a href="#url-query-parameter" class="hash-link" aria-label="Direct link to URL Query Parameter" title="Direct link to URL Query Parameter">​</a></h4><ul><li>Explanation of how the <code>url</code> query parameter transforms the JSON file import.</li><li>The imported JSON file is transformed into a valid ECMAScript module with a default export pointing to the imported file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="raw-query-parameter">Raw Query Parameter<a href="#raw-query-parameter" class="hash-link" aria-label="Direct link to Raw Query Parameter" title="Direct link to Raw Query Parameter">​</a></h4><ul><li>Introduction of the <code>raw</code> query parameter.</li><li>Usage of the <code>raw</code> query parameter while importing images to receive the content of the image instead of just the path.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="content-of-imported-image">Content of Imported Image<a href="#content-of-imported-image" class="hash-link" aria-label="Direct link to Content of Imported Image" title="Direct link to Content of Imported Image">​</a></h4><ul><li>Demonstration of using the <code>raw</code> query parameter with the image import.</li><li>Printing the content of the image in the console.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="transformations-in-image-import">Transformations in Image Import<a href="#transformations-in-image-import" class="hash-link" aria-label="Direct link to Transformations in Image Import" title="Direct link to Transformations in Image Import">​</a></h4><ul><li>Explanation of the transformations applied by Vite to the image import.</li><li>The image&#x27;s path is transformed into a valid ECMAScript module where the default export contains the image&#x27;s content.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-7">Conclusion<a href="#conclusion-7" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h4><ul><li>This lesson covered importing static assets like images and demonstrated the use of query parameters such as <code>url</code> and <code>raw</code> while importing assets in Vite projects.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-public-directory"><strong>=&gt;</strong> Public directory<a href="#-public-directory" class="hash-link" aria-label="Direct link to -public-directory" title="Direct link to -public-directory">​</a></h3><blockquote></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-8">Introduction<a href="#introduction-8" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h4><ul><li>This lesson discusses the role of the <code>public</code> folder in a Vite project for storing static assets and the restrictions on referencing files from this folder within source code.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-public-folder">Using the <code>public</code> Folder<a href="#using-the-public-folder" class="hash-link" aria-label="Direct link to using-the-public-folder" title="Direct link to using-the-public-folder">​</a></h4><ul><li>The <code>public</code> folder is a special directory in the Vite project for storing static assets.</li><li>It allows the inclusion of static files like images, fonts, and others.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="limitations-of-the-public-folder">Limitations of the <code>public</code> Folder<a href="#limitations-of-the-public-folder" class="hash-link" aria-label="Direct link to limitations-of-the-public-folder" title="Direct link to limitations-of-the-public-folder">​</a></h4><ul><li>Static files within the <code>public</code> folder cannot be directly imported or referenced in source code using JavaScript modules.</li><li>Demonstrates importing an image directly from the <code>public</code> folder in HTML without using JavaScript.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="request-handling">Request Handling<a href="#request-handling" class="hash-link" aria-label="Direct link to Request Handling" title="Direct link to Request Handling">​</a></h4><ul><li>Explains how the browser handles requests for assets located in the <code>public</code> folder.</li><li>Requests for files in the <code>public</code> folder are treated as normal static file requests.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="alternative-to-public-folder">Alternative to <code>public</code> Folder<a href="#alternative-to-public-folder" class="hash-link" aria-label="Direct link to alternative-to-public-folder" title="Direct link to alternative-to-public-folder">​</a></h4><ul><li>Introduces the concept of configuring a different folder name for static assets using the <code>publicDir</code> option in the <code>vite.config.js</code> file.</li><li>Demonstrates renaming the <code>public</code> folder to <code>build</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="building-the-project">Building the Project<a href="#building-the-project" class="hash-link" aria-label="Direct link to Building the Project" title="Direct link to Building the Project">​</a></h4><ul><li>Running the build command (<code>npm run build</code>) to generate the production build.</li><li>Shows that the image file in the <code>public</code> folder is not transformed, but instead, it&#x27;s copied to the build folder (<code>dist</code>) during the build process.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-publicdir-option">Using <code>publicDir</code> Option<a href="#using-publicdir-option" class="hash-link" aria-label="Direct link to using-publicdir-option" title="Direct link to using-publicdir-option">​</a></h4><ul><li>Demonstrates adding the <code>publicDir</code> option to the <code>vite.config.js</code> file and renaming the folder containing static assets back to <code>public</code>.</li><li>Running the build command again to ensure that the project builds successfully.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="running-a-static-server">Running a Static Server<a href="#running-a-static-server" class="hash-link" aria-label="Direct link to Running a Static Server" title="Direct link to Running a Static Server">​</a></h4><ul><li>Introduces the <code>npm run preview</code> command for running a simple static server.</li><li>This server serves the files from the build folder, providing a production-like environment to test the project.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="previewing-the-production-build">Previewing the Production Build<a href="#previewing-the-production-build" class="hash-link" aria-label="Direct link to Previewing the Production Build" title="Direct link to Previewing the Production Build">​</a></h4><ul><li>Running the <code>npm run preview</code> command to start the static server.</li><li>Explains that the project appears the same but emphasizes the change in request handling.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="development-server-1">Development Server<a href="#development-server-1" class="hash-link" aria-label="Direct link to Development Server" title="Direct link to Development Server">​</a></h4><ul><li>Switching back to the development server using <code>npm run Dev</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cleaning-up">Cleaning Up<a href="#cleaning-up" class="hash-link" aria-label="Direct link to Cleaning Up" title="Direct link to Cleaning Up">​</a></h4><ul><li>Removing the build folder (<code>dist</code>) as it&#x27;s no longer needed.</li><li>Conclusion of the lesson.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="next-lesson">Next Lesson<a href="#next-lesson" class="hash-link" aria-label="Direct link to Next Lesson" title="Direct link to Next Lesson">​</a></h4><ul><li>Preview of the next lesson topic: &quot;Glob Imports.&quot;</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-glob-imports"><strong>=&gt;</strong> Glob imports<a href="#-glob-imports" class="hash-link" aria-label="Direct link to -glob-imports" title="Direct link to -glob-imports">​</a></h3><blockquote></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-9">Introduction<a href="#introduction-9" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h4><ul><li>This lesson covers the use of the <code>glob</code> function in Vite, which allows the import of multiple modules from the file system.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="preparing-the-environment">Preparing the Environment<a href="#preparing-the-environment" class="hash-link" aria-label="Direct link to Preparing the Environment" title="Direct link to Preparing the Environment">​</a></h4><ul><li>Clears the JavaScript file and removes an HTML element from <code>index.html</code> to set up for demonstrating the <code>glob</code> function.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-glob-function">Using the <code>glob</code> Function<a href="#using-the-glob-function" class="hash-link" aria-label="Direct link to using-the-glob-function" title="Direct link to using-the-glob-function">​</a></h4><ul><li>Introduces the <code>glob</code> function and assigns it to a constant named <code>modules</code>.</li><li>Explains that this function will be called on the <code>import.meta</code> object to specify the paths of modules to be imported.</li><li>Mention of using &quot;Glob syntax&quot; for specifying paths.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-modules">Creating Modules<a href="#creating-modules" class="hash-link" aria-label="Direct link to Creating Modules" title="Direct link to Creating Modules">​</a></h4><ul><li>Describes creating three modules (a.js, b.js, c.js) within a folder named &quot;10&quot; inside the &quot;src&quot; directory.</li><li>Each module contains a simple <code>console.log</code> statement.</li><li>Demonstrates how the console log statements will be displayed when the modules are imported.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="object-received-from-glob">Object Received from <code>glob</code><a href="#object-received-from-glob" class="hash-link" aria-label="Direct link to object-received-from-glob" title="Direct link to object-received-from-glob">​</a></h4><ul><li>When using <code>glob</code>, an object is received where each key corresponds to a module path.</li><li>The value for each key is a function used to dynamically load a particular module.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="transformation-of-the-mainjs-file">Transformation of the <code>main.js</code> File<a href="#transformation-of-the-mainjs-file" class="hash-link" aria-label="Direct link to transformation-of-the-mainjs-file" title="Direct link to transformation-of-the-mainjs-file">​</a></h4><ul><li>Reveals the transformation of the <code>main.js</code> file by the browser.</li><li>Shows how the <code>glob</code> function call is transformed into an object containing module paths and import functions.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="dynamically-importing-modules">Dynamically Importing Modules<a href="#dynamically-importing-modules" class="hash-link" aria-label="Direct link to Dynamically Importing Modules" title="Direct link to Dynamically Importing Modules">​</a></h4><ul><li>Explains how to iterate over the keys of the <code>modules</code> object and use the import functions to dynamically load the modules.</li><li>Emphasizes that these dynamic imports happen on the initial page load.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exporting-data-from-modules">Exporting Data from Modules<a href="#exporting-data-from-modules" class="hash-link" aria-label="Direct link to Exporting Data from Modules" title="Direct link to Exporting Data from Modules">​</a></h4><ul><li>Shows how to export data from the modules, including a default export from module &quot;a.js&quot; and a named export from module &quot;b.js.&quot;</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="delayed-loading-of-modules">Delayed Loading of Modules<a href="#delayed-loading-of-modules" class="hash-link" aria-label="Direct link to Delayed Loading of Modules" title="Direct link to Delayed Loading of Modules">​</a></h4><ul><li>Demonstrates how to change the code to load modules only after a document click event occurs.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configurations-for-glob">Configurations for <code>glob</code><a href="#configurations-for-glob" class="hash-link" aria-label="Direct link to configurations-for-glob" title="Direct link to configurations-for-glob">​</a></h4><ul><li>Discusses the <code>eager</code> configuration option for the <code>glob</code> function.</li><li>Explains that setting <code>eager</code> to <code>true</code> makes modules load instantly on the initial page load.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="effects-of-eager-loading">Effects of Eager Loading<a href="#effects-of-eager-loading" class="hash-link" aria-label="Direct link to Effects of Eager Loading" title="Direct link to Effects of Eager Loading">​</a></h4><ul><li>Shows the result of using <code>eager: true</code> by demonstrating that modules load immediately upon the initial page load.</li><li>Explains that the resulting object contains exported data from modules.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="transformation-with-eager-option">Transformation with <code>eager</code> Option<a href="#transformation-with-eager-option" class="hash-link" aria-label="Direct link to transformation-with-eager-option" title="Direct link to transformation-with-eager-option">​</a></h4><ul><li>Reveals the transformation of the code when using <code>eager: true</code>.</li><li>Describes how it converts the <code>glob</code> function into import statements and immediately loads the modules.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-and-preview">Conclusion and Preview<a href="#conclusion-and-preview" class="hash-link" aria-label="Direct link to Conclusion and Preview" title="Direct link to Conclusion and Preview">​</a></h4><ul><li>Summarizes the use of the <code>glob</code> function in Vite for importing multiple modules.</li><li>Teases the next lesson topic: &quot;Additional Details About the <code>glob</code> Function.&quot;</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-named-glob-imports"><strong>=&gt;</strong> Named glob imports<a href="#-named-glob-imports" class="hash-link" aria-label="Direct link to -named-glob-imports" title="Direct link to -named-glob-imports">​</a></h3><blockquote></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-10">Introduction<a href="#introduction-10" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h4><ul><li>Continuing the review of the <code>glob</code> function in Vite for importing multiple modules.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-configuration-options">Using Configuration Options<a href="#using-configuration-options" class="hash-link" aria-label="Direct link to Using Configuration Options" title="Direct link to Using Configuration Options">​</a></h4><ul><li>Mentioning the <code>eager</code> configuration option reviewed in the previous lesson.</li><li>Introducing other configuration options in this lesson.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-as-configuration-option">The <code>as</code> Configuration Option<a href="#the-as-configuration-option" class="hash-link" aria-label="Direct link to the-as-configuration-option" title="Direct link to the-as-configuration-option">​</a></h4><ul><li>Explaining the use of the <code>as</code> configuration option in the <code>glob</code> function.</li><li>When specifying <code>as: &#x27;row&#x27;</code>, the resulting object contains module content instead of import functions.</li><li>When specifying <code>as: &#x27;URL&#x27;</code>, the resulting object contains absolute paths to the modules.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="modifying-modules">Modifying Modules<a href="#modifying-modules" class="hash-link" aria-label="Direct link to Modifying Modules" title="Direct link to Modifying Modules">​</a></h4><ul><li>Demonstrating the addition of an exported constant <code>name</code> to every module.</li><li>Adding default exports to each module.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-import-configuration-option">Using the <code>import</code> Configuration Option<a href="#using-the-import-configuration-option" class="hash-link" aria-label="Direct link to using-the-import-configuration-option" title="Direct link to using-the-import-configuration-option">​</a></h4><ul><li>Introducing the <code>import</code> configuration option in the <code>glob</code> function.</li><li>Explaining that it allows specifying the named export to import when using the <code>glob</code> function.</li><li>Using the <code>name</code> parameter in the imported modules.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="different-import-options">Different Import Options<a href="#different-import-options" class="hash-link" aria-label="Direct link to Different Import Options" title="Direct link to Different Import Options">​</a></h4><ul><li>Showing examples of different import options, such as importing the default export.</li><li>Demonstrating how to specify a particular named export.</li><li>Printing the imported values in the console.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="combination-of-configuration-options">Combination of Configuration Options<a href="#combination-of-configuration-options" class="hash-link" aria-label="Direct link to Combination of Configuration Options" title="Direct link to Combination of Configuration Options">​</a></h4><ul><li>Combining the <code>eager</code> and <code>import</code> configuration options.</li><li>Disabling dynamic imports and specifying a named export to import.</li><li>Displaying the imported values in the console.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="transformation-of-glob-function-call">Transformation of <code>glob</code> Function Call<a href="#transformation-of-glob-function-call" class="hash-link" aria-label="Direct link to transformation-of-glob-function-call" title="Direct link to transformation-of-glob-function-call">​</a></h4><ul><li>Revealing the transformation applied to the <code>glob</code> function call.</li><li>Explaining how it results in multiple static import statements.</li><li>Gathering the imported data into one object assigned to the <code>modules</code> constant.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-8">Conclusion<a href="#conclusion-8" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h4><ul><li>Highlighting the power and flexibility of the <code>glob</code> function in Vite for importing multiple modules in various ways.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-jsx"><strong>=&gt;</strong> JSX<a href="#-jsx" class="hash-link" aria-label="Direct link to -jsx" title="Direct link to -jsx">​</a></h3><blockquote></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-11">Introduction<a href="#introduction-11" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h4><ul><li>Exploring the use of JSX specification in Vite projects.</li><li>Implementing a custom JSX specification.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="clearing-mainjs-file">Clearing <code>main.js</code> File<a href="#clearing-mainjs-file" class="hash-link" aria-label="Direct link to clearing-mainjs-file" title="Direct link to clearing-mainjs-file">​</a></h4><ul><li>Clearing the <code>main.js</code> file to prepare for JSX implementation.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-jsx-file">Creating a JSX File<a href="#creating-a-jsx-file" class="hash-link" aria-label="Direct link to Creating a JSX File" title="Direct link to Creating a JSX File">​</a></h4><ul><li>Creating a new JSX file named <code>12.jsx</code> within the Source folder.</li><li>Adding arbitrary JSX code to the file as an example.</li><li>Creating a CSS file named <code>12.css</code> and importing it.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="importing-jsx-in-mainjs">Importing JSX in <code>main.js</code><a href="#importing-jsx-in-mainjs" class="hash-link" aria-label="Direct link to importing-jsx-in-mainjs" title="Direct link to importing-jsx-in-mainjs">​</a></h4><ul><li>Importing the <code>12.jsx</code> file in <code>main.js</code>.</li><li>Demonstrating the use of JSX syntax to create components.</li><li>Adding a <code>console.log</code> statement to view the content.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="enabling-jsx-support">Enabling JSX Support<a href="#enabling-jsx-support" class="hash-link" aria-label="Direct link to Enabling JSX Support" title="Direct link to Enabling JSX Support">​</a></h4><ul><li>Discussing the need to enable JSX support.</li><li>Configuring ES Build in the <code>vite.config.js</code> file to define a custom JSX specification.</li><li>Explaining how ES Build processes JSX.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-custom-jsx-factory-function">Creating a Custom JSX Factory Function<a href="#creating-a-custom-jsx-factory-function" class="hash-link" aria-label="Direct link to Creating a Custom JSX Factory Function" title="Direct link to Creating a Custom JSX Factory Function">​</a></h4><ul><li>Creating a custom JSX factory function named <code>create</code> in the <code>12.jsx</code> file.</li><li>Examining the parameters passed to the <code>create</code> function.</li><li>Printing the parameters to understand their values.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="handling-jsx-elements">Handling JSX Elements<a href="#handling-jsx-elements" class="hash-link" aria-label="Direct link to Handling JSX Elements" title="Direct link to Handling JSX Elements">​</a></h4><ul><li>Using the <code>create</code> function to create DOM elements based on JSX.</li><li>Explaining the purpose of the <code>create</code> function.</li><li>Creating DOM nodes and setting attributes.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="printing-the-dom-structure">Printing the DOM Structure<a href="#printing-the-dom-structure" class="hash-link" aria-label="Direct link to Printing the DOM Structure" title="Direct link to Printing the DOM Structure">​</a></h4><ul><li>Printing the DOM structure to the console using <code>console.log</code>.</li><li>Viewing the string representation of the JSX markup.</li><li>Checking the browser&#x27;s console to see the generated DOM structure.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="appending-jsx-markup-to-the-page">Appending JSX Markup to the Page<a href="#appending-jsx-markup-to-the-page" class="hash-link" aria-label="Direct link to Appending JSX Markup to the Page" title="Direct link to Appending JSX Markup to the Page">​</a></h4><ul><li>Creating a <code>div</code> element with the id of &quot;app&quot; in <code>index.html</code>.</li><li>Appending the generated JSX markup to the &quot;app&quot; element using JavaScript.</li><li>Modifying the style to make the text visible.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="extracting-the-jsx-factory-function">Extracting the JSX Factory Function<a href="#extracting-the-jsx-factory-function" class="hash-link" aria-label="Direct link to Extracting the JSX Factory Function" title="Direct link to Extracting the JSX Factory Function">​</a></h4><ul><li>Moving the <code>create</code> function to a new module named <code>12-create.js</code>.</li><li>Exporting the <code>create</code> function from the module.</li><li>Updating the import statement in <code>12.jsx</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="automating-the-import-of-jsx-factory-function">Automating the Import of JSX Factory Function<a href="#automating-the-import-of-jsx-factory-function" class="hash-link" aria-label="Direct link to Automating the Import of JSX Factory Function" title="Direct link to Automating the Import of JSX Factory Function">​</a></h4><ul><li>Demonstrating the need to import the <code>create</code> function manually.</li><li>Configuring the <code>jsxInject</code> option in the <code>vite.config.js</code> file.</li><li>Automatically injecting the import statement for the <code>create</code> function in JSX files.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-9">Conclusion<a href="#conclusion-9" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h4><ul><li>Summarizing the lesson on working with JSX in Vite projects and implementing a custom JSX specification for processing JSX elements.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-typescript"><strong>=&gt;</strong> TypeScript<a href="#-typescript" class="hash-link" aria-label="Direct link to -typescript" title="Direct link to -typescript">​</a></h3><blockquote></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="lets-talk-about-typescript-support">Let&#x27;s Talk About TypeScript Support<a href="#lets-talk-about-typescript-support" class="hash-link" aria-label="Direct link to Let&#x27;s Talk About TypeScript Support" title="Direct link to Let&#x27;s Talk About TypeScript Support">​</a></h4><ul><li>Indeed, we&#x27;re going to use a very basic example just for demonstration purposes.</li><li>How to integrate TypeScript into Wheat project.</li><li>So, I&#x27;m going to create a new file with an extension TS, let&#x27;s call it <code>main.ds</code>.</li><li>And in here, we&#x27;re going to declare a function <code>sum</code> which basically is going to sum up two numbers.</li><li>It will accept two arguments of type <code>number</code> A and B and is supposed to calculate the sum of these numbers and eventually return <code>number</code>.</li><li>So in here, let&#x27;s just sum up two arguments <code>a</code> plus <code>b</code>.</li><li>And down here, we&#x27;re gonna add a <code>console.log</code> statement to print out the result of calling this function <code>sum</code> with arguments 1 (which is a number) and the second argument will be 2, but this time it will be a string.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="including-typescript-in-html">Including TypeScript in HTML<a href="#including-typescript-in-html" class="hash-link" aria-label="Direct link to Including TypeScript in HTML" title="Direct link to Including TypeScript in HTML">​</a></h4><ul><li>Before checking it out in the browser, we, of course, have to include this file to our page.</li><li>And by the way, Vite allows us to include TypeScript files directly within HTML files like so.</li><li>So once it&#x27;s done, let&#x27;s switch over to the browser.</li><li>And presently, we don&#x27;t see any errors in a console.</li><li>As a result, in a console, we have <code>number 12</code>, which is the result of executing that <code>sum</code> function.</li><li>So as we can see after the browser loads our file <code>main.ts</code>, it receives the content where all types have been stripped.</li><li>That means it has applied transformation to this file to remove everything related to TypeScript and leave only valid JavaScript code that can be run in a browser.</li><li>So that means that Vite hasn&#x27;t done any static type checks and instead only converted the TypeScript syntax into JavaScript syntax.</li><li>And which is why as a result of executing this function, we got <code>12</code> because instead of summing up two numbers, JavaScript has concatenated them.</li><li>And there is actually a reason Vite doesn&#x27;t do any static type checking when converting TypeScript files into JavaScript files.</li><li>And this reason is speed because to do full static type checking will actually drastically delay the whole build process.</li><li>So what we&#x27;d recommend instead if we want to run static type checking is to separately install TypeScript compiler.</li><li>We&#x27;re going to do it right now.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="installing-typescript-compiler">Installing TypeScript Compiler<a href="#installing-typescript-compiler" class="hash-link" aria-label="Direct link to Installing TypeScript Compiler" title="Direct link to Installing TypeScript Compiler">​</a></h4><ul><li>So in a terminal, let&#x27;s run <code>npm install typescript</code>.</li><li>And then we&#x27;re going to use this compiler to separately analyze our TypeScript files and apply type checking.</li><li>So in our <code>package.json</code>, we&#x27;re going to add one more script within the script section with the name <code>DSC</code>.</li><li>And what this script will do is basically run TypeScript compiler.</li><li>But in our case, we don&#x27;t need to transform any TypeScript files into JavaScript files.</li><li>Instead, we want only to run static type checking.</li><li>So in here, for TypeScript, create compiler, we&#x27;re going to use an option called <code>NoEmit</code>, which is not going to produce any JavaScript files.</li><li>And instead will only run static type checking.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="running-typescript-compiler">Running TypeScript Compiler<a href="#running-typescript-compiler" class="hash-link" aria-label="Direct link to Running TypeScript Compiler" title="Direct link to Running TypeScript Compiler">​</a></h4><ul><li>And now if I try to go ahead and run that script by running <code>npm run DSC</code>, we&#x27;re going to see the following error.</li><li>And to fix it, we have to add TypeScript configuration file within the root of the project with the name <code>tsconfig.js</code>.</li><li>And in here, the only option that we have to specify is to actually show TypeScript compiler where our source files are stored.</li><li>So let&#x27;s add a <code>rootDir</code> option with the value <code>.</code> which is kind of a pointer to the root directory of our project.</li><li>So right now if we run the same command again <code>npm run DSC</code>, this time we&#x27;re going to get a different error.</li><li>And this is actually the error that we expect that we have some type mismatches in our TypeScript file.</li><li>So right now our TypeScript compiler works properly and gives us hints whenever we have type mismatches like this one.</li><li>But actually, running TypeScript compiler like this is not going to rerun it every time we&#x27;re going to make a change to our source file.</li><li>So to make TypeScript compiler watch our source file for changes, we&#x27;re going to run the same command <code>npm run DSC</code>, but this time we will also add flag <code>watch</code>.</li><li>And from now on, anytime we&#x27;re going to make a change to our source files, for example, let&#x27;s go ahead and switch over to <code>main.ds</code> and make a change by fixing this type error.</li><li>And now that we don&#x27;t have any type errors within this file, if we take a look at the TypeScript output, we can see the TypeScript compiler was rerun, and this time there are no errors and warnings been reported.</li><li>So when it comes to running TypeScript in Vite projects, this is one of the Vite recommendations to run TypeScript type checking in a separate process to prevent different main event build process.</li><li>But if we actually want to fully integrate TypeScript type checking process within Vite build process, there is a special plugin for it called <code>@vite/plugin-checker</code>.</li><li>And this plugin allows us to fully integrate TypeScript type checking into Vite build process.</li><li>And after that, all TypeScript-related errors and warnings will be shown directly in the browser.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="installing-viteplugin-checker">Installing @vite/plugin-checker<a href="#installing-viteplugin-checker" class="hash-link" aria-label="Direct link to Installing @vite/plugin-checker" title="Direct link to Installing @vite/plugin-checker">​</a></h4><ul><li>And if we wish to use this plugin, the first thing we need to do, of course, is to install it by running the following command.</li><li>So let&#x27;s switch over to the terminal, paste here that installation command, and wait until the installation process is finished.</li><li>And after installation is finished, next we have to configure this plugin by adding some instructions into our Vite configuration file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-viteplugin-checker">Configuring @vite/plugin-checker<a href="#configuring-viteplugin-checker" class="hash-link" aria-label="Direct link to Configuring @vite/plugin-checker" title="Direct link to Configuring @vite/plugin-checker">​</a></h4><ul><li>So first of all, let&#x27;s add this import statement. I&#x27;m going to switch over to <code>myvit.config.js</code> and right below the <code>import</code> statement, I&#x27;m going to paste a new import statement for <code>@vite/plugin-checker</code>.</li><li>And one more thing to do to configure this plugin is to actually copy this function call and paste it into the <code>plugins</code> section down below like this.</li><li>And this is actually all that&#x27;s required to fully integrate TypeScript type checking within Vite build process.</li><li>So right now, we&#x27;re going to go ahead and get back that type checking error by converting this argument to string.</li><li>This time during Vite build process, we&#x27;re going to see that the TypeScript error was appeared within the browser.</li><li>So as we can see, from now on, every TypeScript error will be shown directly in the browser.</li><li>And of course, if we go ahead and fix this error and check the result in a browser, we no longer see any TypeScript errors.</li><li>And now within such setup, we no longer need to run TypeScript compiler within a separate process.</li><li>So let&#x27;s stop the previous process that we have previously run in a console by pressing <code>Ctrl+C</code> because TypeScript will notify us about any type-related errors directly in the browser.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-eslint"><strong>=&gt;</strong> ESLint<a href="#-eslint" class="hash-link" aria-label="Direct link to -eslint" title="Direct link to -eslint">​</a></h3><blockquote></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="intro">Intro<a href="#intro" class="hash-link" aria-label="Direct link to Intro" title="Direct link to Intro">​</a></h4><ul><li>Now that we know how to integrate TypeScript with the NVid project in this lesson, we&#x27;re going to see how to integrate ESLint, which is a static analysis tool for JavaScript. So let&#x27;s get started.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="adding-an-eslint-violation">Adding an ESLint Violation<a href="#adding-an-eslint-violation" class="hash-link" aria-label="Direct link to Adding an ESLint Violation" title="Direct link to Adding an ESLint Violation">​</a></h4><ul><li>In our <code>main.ts</code> file, we&#x27;re gonna add one ESLint violation. Let&#x27;s add a semicolon after this function declaration.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="installing-eslint-plugin-for-typescript">Installing ESLint Plugin for TypeScript<a href="#installing-eslint-plugin-for-typescript" class="hash-link" aria-label="Direct link to Installing ESLint Plugin for TypeScript" title="Direct link to Installing ESLint Plugin for TypeScript">​</a></h4><ul><li>Since we&#x27;re going to have ESLint analyze TypeScript files, there is a special plugin for it that we can use called <code>typescript-eslint</code>. This tool basically enables ESLint support for TypeScript.</li><li>First, we have to install all necessary dependencies. Copy and run this command in your terminal.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-eslint-configuration-file">Creating ESLint Configuration File<a href="#creating-eslint-configuration-file" class="hash-link" aria-label="Direct link to Creating ESLint Configuration File" title="Direct link to Creating ESLint Configuration File">​</a></h4><ul><li>Next, we will have to create a configuration file for ESLint with the name <code>.eslintrc.js</code> and paste the following content in it.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="running-eslint">Running ESLint<a href="#running-eslint" class="hash-link" aria-label="Direct link to Running ESLint" title="Direct link to Running ESLint">​</a></h4><ul><li>To execute ESLint, we need to run <code>npx eslint</code> with the folder where ESLint should be executed specified as an argument. In our case, it&#x27;s fine to specify the root folder of our project, so we&#x27;ll use <code>.</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ignoring-javascript-files">Ignoring JavaScript Files<a href="#ignoring-javascript-files" class="hash-link" aria-label="Direct link to Ignoring JavaScript Files" title="Direct link to Ignoring JavaScript Files">​</a></h4><ul><li>As a result, there are a lot more errors than we initially expected. Among these errors, we can see the one we intentionally added by adding a semicolon to the end of the function declaration.</li><li>The rest of the errors are coming from analyzing JavaScript files. To ignore all JavaScript files and run ESLint only within TypeScript files, we can create a special file for ESLint called <code>.eslintignore</code> and list the files that should be ignored. Use the following notation to ignore all JavaScript files: <code>*.js</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="integrating-eslint-with-the-build-process">Integrating ESLint with the Build Process<a href="#integrating-eslint-with-the-build-process" class="hash-link" aria-label="Direct link to Integrating ESLint with the Build Process" title="Direct link to Integrating ESLint with the Build Process">​</a></h4><ul><li>To run ESLint checks in sync with the project build, we need to start a separate ESLint process alongside our main build process. This is also recommended to prevent deferring the main build process.</li><li>If you don&#x27;t want to do this and prefer to run ESLint during the build process, you can achieve it by installing the <code>plugin-checker</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="installing-eslint-executable">Installing ESLint Executable<a href="#installing-eslint-executable" class="hash-link" aria-label="Direct link to Installing ESLint Executable" title="Direct link to Installing ESLint Executable">​</a></h4><ul><li>Before running ESLint, install the ESLint executable on your system.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-eslint-to-use-eslint-executable">Configuring ESLint to Use ESLint Executable<a href="#configuring-eslint-to-use-eslint-executable" class="hash-link" aria-label="Direct link to Configuring ESLint to Use ESLint Executable" title="Direct link to Configuring ESLint to Use ESLint Executable">​</a></h4><ul><li><p>In your reviewed configuration file, specify the command which will be used to run ESLint and update the paths ESLint should scan.</p></li><li><p>Now, if you open your browser again, you&#x27;ll see ESLint errors.</p></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="verification">Verification<a href="#verification" class="hash-link" aria-label="Direct link to Verification" title="Direct link to Verification">​</a></h4><ul><li><p>Just to see if this error disappears, switch over to <code>main.ts</code> and remove the semicolon from here.</p></li><li><p>Going back to the browser, you won&#x27;t see any ESLint errors, and a message saying that no errors were found appears in the logs.</p></li><li><p>This is how easy it is to integrate ESLint with projects.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-path-aliases"><strong>=&gt;</strong> Path aliases<a href="#-path-aliases" class="hash-link" aria-label="Direct link to -path-aliases" title="Direct link to -path-aliases">​</a></h3><blockquote></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="vite-and-path-aliases">Vite and Path Aliases<a href="#vite-and-path-aliases" class="hash-link" aria-label="Direct link to Vite and Path Aliases" title="Direct link to Vite and Path Aliases">​</a></h4><ul><li>Vite offers a handy feature called <strong>path aliases</strong>. Let&#x27;s see how it can be useful for us.</li><li>I&#x27;m going to clear out our main JavaScript file <code>main.js</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="importing-css-and-image">Importing CSS and Image<a href="#importing-css-and-image" class="hash-link" aria-label="Direct link to Importing CSS and Image" title="Direct link to Importing CSS and Image">​</a></h4><ul><li>Import the CSS file into our <code>main.js</code> file.</li><li>Import the image, specifying the full path to the image located inside the <code>IMG</code> folder.</li><li>Inside <code>index.html</code>, add an <code>img</code> tag to display the image using JavaScript.</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getElementById</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;image&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">src</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;URL_OF_IMAGE&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Before switching to the browser, change the extension of our main JavaScript file from <code>.js</code> to <code>.mjs</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="viewing-in-the-browser">Viewing in the Browser<a href="#viewing-in-the-browser" class="hash-link" aria-label="Direct link to Viewing in the Browser" title="Direct link to Viewing in the Browser">​</a></h4><ul><li>In the browser, the imported CSS file is inserted onto the page in a <code>style</code> tag.</li><li>The JavaScript image is also displayed on the right side.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-path-aliases">Using Path Aliases<a href="#using-path-aliases" class="hash-link" aria-label="Direct link to Using Path Aliases" title="Direct link to Using Path Aliases">​</a></h4><ul><li>To avoid always mentioning the full path when importing modules, we can define <strong>path aliases</strong>.</li><li>Use the <code>@</code> sign as an alias for the <code>src</code> folder.</li><li>In your Vite configuration file, add a <code>resolver</code> configuration to define path aliases.</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">resolve</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">alias</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-property property" style="color:#36acaa">&#x27;@&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;src&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>To test the alias, import the <code>@</code> module and print the resolved path using <code>console.log</code>.</li><li>Restart the development server to see the resolved path.</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">path</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;path&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@/assets&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>In the browser, there should be no changes.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="successfully-configured-alias">Successfully Configured Alias<a href="#successfully-configured-alias" class="hash-link" aria-label="Direct link to Successfully Configured Alias" title="Direct link to Successfully Configured Alias">​</a></h4><ul><li>The styles have been applied correctly, and the image is displayed.</li><li>Our custom alias was properly configured.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="leveraging-path-aliases">Leveraging Path Aliases<a href="#leveraging-path-aliases" class="hash-link" aria-label="Direct link to Leveraging Path Aliases" title="Direct link to Leveraging Path Aliases">​</a></h4><ul><li>By using path aliases, we can avoid long paths when importing modules.</li></ul><p>This is how we can leverage path aliases to simplify module imports.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-environment-variables"><strong>=&gt;</strong> Environment variables<a href="#-environment-variables" class="hash-link" aria-label="Direct link to -environment-variables" title="Direct link to -environment-variables">​</a></h3><blockquote></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="environment-variables-in-vite">Environment Variables in Vite<a href="#environment-variables-in-vite" class="hash-link" aria-label="Direct link to Environment Variables in Vite" title="Direct link to Environment Variables in Vite">​</a></h4><ul><li>In this lesson, let&#x27;s talk about environment variables and how to work with them in Vite projects.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-environment-variables">Accessing Environment Variables<a href="#accessing-environment-variables" class="hash-link" aria-label="Direct link to Accessing Environment Variables" title="Direct link to Accessing Environment Variables">​</a></h4><ul><li>Start with removing everything from our main JavaScript file.</li><li>To access environment variables, Vite exposes them to client code under a special object stored inside the <code>import.meta</code> object.</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword module" style="color:#00009f">import</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>The object contains default environment variables, including <code>mode</code>, which indicates the current mode (development or production).</li><li>When building the project with <code>npm run build</code> and previewing it with <code>npm run preview</code>, you&#x27;ll notice the <code>mode</code> variable changes to <code>production</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="defining-custom-environment-variables">Defining Custom Environment Variables<a href="#defining-custom-environment-variables" class="hash-link" aria-label="Direct link to Defining Custom Environment Variables" title="Direct link to Defining Custom Environment Variables">​</a></h4><ul><li>To define custom environment variables, create a file named <code>.env</code>.</li><li>List the variables you need in this file, using a prefix.</li><li>Use the format <code>PREFIX_VARIABLE_NAME=variable_value</code>.</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">VITE_APP_API_URL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">https://example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">VITE_APP_ANOTHER_VAR</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">random_value</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Variables must start with a special prefix (default is <code>_</code>) to be included in the client code.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="overriding-the-prefix">Overriding the Prefix<a href="#overriding-the-prefix" class="hash-link" aria-label="Direct link to Overriding the Prefix" title="Direct link to Overriding the Prefix">​</a></h4><ul><li>The prefix can be overridden in the configuration file, <code>vite.config.js</code>.</li><li>Use the <code>envPrefix</code> option to specify a different prefix.</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">build</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">rollupOptions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">output</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">envPrefix</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;NEW_PREFIX&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Update variable names accordingly in <code>.env</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-custom-environment-variables">Using Custom Environment Variables<a href="#using-custom-environment-variables" class="hash-link" aria-label="Direct link to Using Custom Environment Variables" title="Direct link to Using Custom Environment Variables">​</a></h4><ul><li>Custom environment variables can be accessed in the client code.</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword module" style="color:#00009f">import</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">meta</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">VITE_APP_API_URL</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>They are also accessible in HTML files using the format <code>%VITE_APP_VARIABLE_NAME%</code>.</li></ul><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">API URL: %VITE_APP_API_URL%</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Values depend on the current mode (development or production).</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="multiple-environment-files">Multiple Environment Files<a href="#multiple-environment-files" class="hash-link" aria-label="Direct link to Multiple Environment Files" title="Direct link to Multiple Environment Files">​</a></h4><ul><li>Create multiple environment files for different modes.</li><li>For example, use <code>.env.production</code> for production-specific variables.</li><li>Custom modes can also be defined, each with its own environment file (e.g., <code>.env.staging</code>).</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="custom-modes">Custom Modes<a href="#custom-modes" class="hash-link" aria-label="Direct link to Custom Modes" title="Direct link to Custom Modes">​</a></h4><ul><li>To build the project for a custom mode (e.g., <code>staging</code>), use the <code>--mode</code> flag.</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> run build -- --mode staging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> run preview</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Variables from the mode-specific environment file will be used.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="specifying-environment-variables-in-commands">Specifying Environment Variables in Commands<a href="#specifying-environment-variables-in-commands" class="hash-link" aria-label="Direct link to Specifying Environment Variables in Commands" title="Direct link to Specifying Environment Variables in Commands">​</a></h4><ul><li>You can specify environment variables in commands.</li><li>They will override values in environment files.</li><li>For example, start the development server with a specific API URL:</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">VITE_APP_API_URL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">https://custom-api.com </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> run dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>The variable&#x27;s value will be taken from the command, overriding any values from <code>.env</code> files.</p></li><li><p>This is how we can work with environment variables in Vite projects.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-multi-page-app"><strong>=&gt;</strong> Multi-page app<a href="#-multi-page-app" class="hash-link" aria-label="Direct link to -multi-page-app" title="Direct link to -multi-page-app">​</a></h3><blockquote></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="generating-multiple-bundles-in-vite">Generating Multiple Bundles in Vite<a href="#generating-multiple-bundles-in-vite" class="hash-link" aria-label="Direct link to Generating Multiple Bundles in Vite" title="Direct link to Generating Multiple Bundles in Vite">​</a></h4><ul><li>Besides generating bundles for single-page applications, Vite allows us to generate multiple bundles for several pages, one bundle per page.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="preparing-multiple-pages">Preparing Multiple Pages<a href="#preparing-multiple-pages" class="hash-link" aria-label="Direct link to Preparing Multiple Pages" title="Direct link to Preparing Multiple Pages">​</a></h4><ul><li>Start with preparing multiple pages.</li><li>In the <code>main</code> <code>index.html</code> file, add a heading called &quot;index&quot; and a link to redirect to a second page called &quot;login.&quot;</li><li>Create a new folder called <code>login</code> in the project root.</li><li>In the <code>login</code> folder, add a new JavaScript file (<code>login.js</code>) and an HTML file for the login page.</li><li>Modify the HTML content for the login page.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="independent-pages">Independent Pages<a href="#independent-pages" class="hash-link" aria-label="Direct link to Independent Pages" title="Direct link to Independent Pages">​</a></h4><ul><li>The project now contains two separate pages (index and login) that are independent of each other.</li><li>When navigating between these pages, the browser makes full page refreshes.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="building-for-production-1">Building for Production<a href="#building-for-production-1" class="hash-link" aria-label="Direct link to Building for Production" title="Direct link to Building for Production">​</a></h4><ul><li>When building the project for production using <code>npm run build</code>, it generates only one page (<code>index.html</code>).</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-for-multiple-pages">Configuration for Multiple Pages<a href="#configuration-for-multiple-pages" class="hash-link" aria-label="Direct link to Configuration for Multiple Pages" title="Direct link to Configuration for Multiple Pages">​</a></h4><ul><li>To generate pages for multiple pages, add configurations to the Vite configuration file.</li><li>Define an object with options such as <code>rollupOptions</code> and <code>input</code>.</li><li>Specify the available pages and their corresponding HTML files.</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">build</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">rollupOptions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">input</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">main</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;index.html&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">login</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;login/index.html&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Use the <code>path</code> module to generate absolute paths.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="importing-resolve-function">Importing <code>resolve</code> Function<a href="#importing-resolve-function" class="hash-link" aria-label="Direct link to importing-resolve-function" title="Direct link to importing-resolve-function">​</a></h4><ul><li>Import the <code>resolve</code> function from the <code>path</code> module.</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> resolve </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;path&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="rebuild-the-project">Rebuild the Project<a href="#rebuild-the-project" class="hash-link" aria-label="Direct link to Rebuild the Project" title="Direct link to Rebuild the Project">​</a></h4><ul><li>Rebuild the project by running <code>npm run build</code> and then open it in the browser.</li><li>Now, both the main page and the login page are generated.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="javascript-bundles-for-pages">JavaScript Bundles for Pages<a href="#javascript-bundles-for-pages" class="hash-link" aria-label="Direct link to JavaScript Bundles for Pages" title="Direct link to JavaScript Bundles for Pages">​</a></h4><ul><li>By default, JavaScript bundles are not generated for these pages, as the JavaScript files are empty.</li><li>Add arbitrary JavaScript statements to both <code>main.js</code> and <code>login.js</code>.</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Main Page&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Rebuild the project, and JavaScript bundles are generated for each HTML page.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-sas-styles">Using SAS Styles<a href="#using-sas-styles" class="hash-link" aria-label="Direct link to Using SAS Styles" title="Direct link to Using SAS Styles">​</a></h4><ul><li>Create SAS (Sass) stylesheets for both pages (e.g., <code>main.sass</code> and <code>login.sass</code>) to demonstrate the use of styles.</li><li>Include the styles in the JavaScript files using <code>import</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="install-the-sas-compiler">Install the SAS Compiler<a href="#install-the-sas-compiler" class="hash-link" aria-label="Direct link to Install the SAS Compiler" title="Direct link to Install the SAS Compiler">​</a></h4><ul><li>Install the SAS preprocessor using npm.</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> sass</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="rebuild-with-styles">Rebuild with Styles<a href="#rebuild-with-styles" class="hash-link" aria-label="Direct link to Rebuild with Styles" title="Direct link to Rebuild with Styles">​</a></h4><ul><li>Rebuild the project to compile the SAS files.</li><li>In the browser, the styles are properly applied to each page.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="javascript-bundles-for-styles">JavaScript Bundles for Styles<a href="#javascript-bundles-for-styles" class="hash-link" aria-label="Direct link to JavaScript Bundles for Styles" title="Direct link to JavaScript Bundles for Styles">​</a></h4><ul><li>By default, JavaScript bundles are not generated for the stylesheets.</li><li>Add arbitrary JavaScript code to both <code>main.js</code> and <code>login.js</code> to trigger bundle generation.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="rebuild-the-project-1">Rebuild the Project<a href="#rebuild-the-project-1" class="hash-link" aria-label="Direct link to Rebuild the Project" title="Direct link to Rebuild the Project">​</a></h4><ul><li><p>Rebuild the project and check the JavaScript bundles.</p></li><li><p>Now, the project has separate JavaScript bundles for each HTML page.</p></li><li><p>This is how we can generate several JavaScript bundles for multiple pages in Vite when building a multi-page app. The key is to provide proper configurations in the Vite configuration file to map each page to its HTML template file.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-library-mode"><strong>=&gt;</strong> Library mode<a href="#-library-mode" class="hash-link" aria-label="Direct link to -library-mode" title="Direct link to -library-mode">​</a></h3><blockquote></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-npm-packages-with-vite">Creating npm Packages with Vite<a href="#creating-npm-packages-with-vite" class="hash-link" aria-label="Direct link to Creating npm Packages with Vite" title="Direct link to Creating npm Packages with Vite">​</a></h4><ul><li>Vite provides a mode for creating libraries.</li><li>In this lesson, we will explore the tools Vite offers to create npm packages.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="initial-preparation">Initial Preparation<a href="#initial-preparation" class="hash-link" aria-label="Direct link to Initial Preparation" title="Direct link to Initial Preparation">​</a></h4><ul><li>Begin with some preparation steps.</li><li>Create an empty folder named &#x27;lib&#x27;.</li><li>Navigate to this folder in your terminal.</li><li>We will create two Vite projects: one for the client application and the other for the library.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-the-client-application">Creating the Client Application<a href="#creating-the-client-application" class="hash-link" aria-label="Direct link to Creating the Client Application" title="Direct link to Creating the Client Application">​</a></h4><ul><li>Create the first project for the client application.</li><li>Run <code>npm create vite@latest</code> to scaffold a default Vite project.</li><li>Choose options: Vanilla JS without TypeScript.</li><li>This application will import the custom package we&#x27;re about to create.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-the-library">Creating the Library<a href="#creating-the-library" class="hash-link" aria-label="Direct link to Creating the Library" title="Direct link to Creating the Library">​</a></h4><ul><li>Create the second project for the library.</li><li>Use the same command to create a Vite project called &#x27;lib&#x27;.</li><li>Select the same options: Vanilla JS without TypeScript.</li><li>Open folders with these projects in separate terminal tabs.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-the-library-functionality">Creating the Library Functionality<a href="#creating-the-library-functionality" class="hash-link" aria-label="Direct link to Creating the Library Functionality" title="Direct link to Creating the Library Functionality">​</a></h4><ul><li>Open the main JavaScript file of the library project.</li><li>Remove existing code and install all npm dependencies.</li><li>Run <code>npm install</code> to ensure the application can run in a browser.</li><li>Create a JavaScript file (<code>index.js</code>) in the &#x27;src&#x27; folder to contain the library&#x27;s functionality.</li><li>Define a utility function called &#x27;pluck&#x27; that accepts an array of objects and a key to extract.</li><li>Implement the &#x27;pluck&#x27; function to create an array of values extracted from the objects.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="testing-the-library-functionality">Testing the Library Functionality<a href="#testing-the-library-functionality" class="hash-link" aria-label="Direct link to Testing the Library Functionality" title="Direct link to Testing the Library Functionality">​</a></h4><ul><li>Create an array of objects, such as an array of users, with name and age properties.</li><li>Execute the &#x27;pluck&#x27; function to extract and display an array of user names.</li><li>Run the script in a browser.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="building-the-library">Building the Library<a href="#building-the-library" class="hash-link" aria-label="Direct link to Building the Library" title="Direct link to Building the Library">​</a></h4><ul><li>Configure the library to be built as an npm package.</li><li>Create a &#x27;vite.config.js&#x27; configuration file in the library&#x27;s root.</li><li>Specify the &#x27;lib&#x27; option under the &#x27;build&#x27; object to inform Vite that this project is a package.</li><li>Define the entry point, name, and file name options in the &#x27;lib&#x27; configuration object.</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">build</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">lib</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">entry</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;src/index.js&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;pluck&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">fileName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;pluck&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Import the &#x27;resolve&#x27; function from the &#x27;path&#x27; module.</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> resolve </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;path&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="building-the-library-1">Building the Library<a href="#building-the-library-1" class="hash-link" aria-label="Direct link to Building the Library" title="Direct link to Building the Library">​</a></h4><ul><li>Build the library by running <code>npm run build</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="examining-the-generated-files">Examining the Generated Files<a href="#examining-the-generated-files" class="hash-link" aria-label="Direct link to Examining the Generated Files" title="Direct link to Examining the Generated Files">​</a></h4><ul><li>Vite generates two assets for the library: one for ESM and one for CommonJS.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="updating-packagejson-for-the-library">Updating <code>package.json</code> for the Library<a href="#updating-packagejson-for-the-library" class="hash-link" aria-label="Direct link to updating-packagejson-for-the-library" title="Direct link to updating-packagejson-for-the-library">​</a></h4><ul><li>Edit the <code>package.json</code> file for the library.</li><li>Change the name to &#x27;pluck&#x27; and specify the &#x27;main&#x27; and &#x27;module&#x27; options.</li><li>The &#x27;main&#x27; option points to the CommonJS bundle (<code>lib/pluck.js</code>), and the &#x27;module&#x27; option points to the ESM bundle (<code>lib/pluck.mjs</code>).</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="globally-making-the-library-available">Globally Making the Library Available<a href="#globally-making-the-library-available" class="hash-link" aria-label="Direct link to Globally Making the Library Available" title="Direct link to Globally Making the Library Available">​</a></h4><ul><li>To test the library in the client application, make the library globally available.</li><li>Execute <code>npm link</code> in the library&#x27;s root.</li><li>Link to the library in the client application using <code>npm link pluck</code> in the client&#x27;s root.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="testing-the-library-in-the-client-application">Testing the Library in the Client Application<a href="#testing-the-library-in-the-client-application" class="hash-link" aria-label="Direct link to Testing the Library in the Client Application" title="Direct link to Testing the Library in the Client Application">​</a></h4><ul><li><p>Open the client application&#x27;s main JavaScript file.</p></li><li><p>Import the &#x27;pluck&#x27; function from the &#x27;pluck&#x27; library.</p></li><li><p>Use the &#x27;pluck&#x27; function in the client application to test the library&#x27;s functionality.</p></li><li><p>Run the client application in a browser.</p></li><li><p>These are the fundamental steps for developing JavaScript packages using Vite. In future lessons, we&#x27;ll delve deeper into this process.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-multiple-library-entry-points"><strong>=&gt;</strong> Multiple library entry points<a href="#-multiple-library-entry-points" class="hash-link" aria-label="Direct link to -multiple-library-entry-points" title="Direct link to -multiple-library-entry-points">​</a></h3><blockquote></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h4><ul><li>In the previous lesson, we developed the package using Viet Library mode.</li><li>We included that package in our client application, which had only one entry point.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="need-for-multiple-entry-points">Need for Multiple Entry Points<a href="#need-for-multiple-entry-points" class="hash-link" aria-label="Direct link to Need for Multiple Entry Points" title="Direct link to Need for Multiple Entry Points">​</a></h4><ul><li>What if we want to create a package with multiple entry points?</li><li>This means importing different functionality from sub-paths.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exposing-functionality">Exposing Functionality<a href="#exposing-functionality" class="hash-link" aria-label="Direct link to Exposing Functionality" title="Direct link to Exposing Functionality">​</a></h4><ul><li>Recall the functionality our package exposes in the <code>index.js</code> file.</li><li>Initially, we had to modify the <code>package.json</code> file to specify the key called <code>module</code> for importing the main library file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-new-file">Creating a New File<a href="#creating-a-new-file" class="hash-link" aria-label="Direct link to Creating a New File" title="Direct link to Creating a New File">​</a></h4><ul><li>Create a new file called <code>log.js</code> inside the source folder of our package.</li><li>In this file, create a function named <code>log</code> as a wrapper around <code>console.log</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">​</a></h4><ul><li>We need to configure our package to support multiple entry points.</li><li>Modify <code>vid.configure.js</code> to generate two different bundles for each JavaScript file.</li><li>This allows importing the <code>log</code> function from the sub-paths in the client application.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="testing">Testing<a href="#testing" class="hash-link" aria-label="Direct link to Testing" title="Direct link to Testing">​</a></h4><ul><li>Use the <code>log</code> function to print an array of users for testing in the client application.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="customizing-file-names">Customizing File Names<a href="#customizing-file-names" class="hash-link" aria-label="Direct link to Customizing File Names" title="Direct link to Customizing File Names">​</a></h4><ul><li>Customize the file names generated during the bundle creation.</li><li>Use a condition to set the appropriate file name format for ECMAScript 6 and CommonJS modules.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="importing-submodules">Importing Submodules<a href="#importing-submodules" class="hash-link" aria-label="Direct link to Importing Submodules" title="Direct link to Importing Submodules">​</a></h4><ul><li>Execute <code>npm run build</code> to generate bundles.</li><li>Check if you can import functionality from the sub-module of the package.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="additional-steps">Additional Steps<a href="#additional-steps" class="hash-link" aria-label="Direct link to Additional Steps" title="Direct link to Additional Steps">​</a></h4><ul><li>Instead of publishing the package to the npm registry, use <code>npm link</code> to make the package available globally.</li><li>Add a link to the package in the client application&#x27;s <code>node_modules</code> folder using <code>npm link</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="testing-import-functionality">Testing Import Functionality<a href="#testing-import-functionality" class="hash-link" aria-label="Direct link to Testing Import Functionality" title="Direct link to Testing Import Functionality">​</a></h4><ul><li>Run the development server in the client application to test importing functionality from the sub-module (<code>log</code>).</li><li>Verify that you can use the imported function to print a list of users.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-10">Conclusion<a href="#conclusion-10" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h4><ul><li>Review the process of building a library with multiple entry points.</li></ul><p>Let me know if you need further assistance or modifications!</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-importing-library-using-require"><strong>=&gt;</strong> Importing library using require<a href="#-importing-library-using-require" class="hash-link" aria-label="Direct link to -importing-library-using-require" title="Direct link to -importing-library-using-require">​</a></h3><blockquote></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="overview-1">Overview<a href="#overview-1" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h4><ul><li><code>Alright</code>, so far we have created the library with multiple entry points, and then in our client application, we have importing the functionality from those two entry points right here from the main entry point <code>plug</code> and from submodule <code>log</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="code-organization">Code Organization<a href="#code-organization" class="hash-link" aria-label="Direct link to Code Organization" title="Direct link to Code Organization">​</a></h4><ul><li>Just as a reminder, the way we have organized the code in our library is as follows:<ul><li>Here we have a couple of JavaScript files inside the <code>source</code> folder.</li><li>Each of those files contains only one function.</li><li>To tell <code>node.js</code> which modules have to be imported whenever the client application will import functionality from our library by using either the main entry point or sub-entry point, which in our case is called <code>lock</code>.</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="file-paths">File Paths<a href="#file-paths" class="hash-link" aria-label="Direct link to File Paths" title="Direct link to File Paths">​</a></h4><ul><li>We have provided the path in here for every build file, which corresponds to every entry point of our library.</li><li>Whether the client-side application is going to use Native Weapons grid modules to import functionality from our package or CommonJS modules, in both of these cases, imports from our library are going to you work fine.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="testing-with-ecmascript-modules">Testing with ECMAScript Modules<a href="#testing-with-ecmascript-modules" class="hash-link" aria-label="Direct link to Testing with ECMAScript Modules" title="Direct link to Testing with ECMAScript Modules">​</a></h4><ul><li>So far we have only tested importing functionality from our library by using native ECMAScript modules.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nodejs-module-resolution">Node.js Module Resolution<a href="#nodejs-module-resolution" class="hash-link" aria-label="Direct link to Node.js Module Resolution" title="Direct link to Node.js Module Resolution">​</a></h4><ul><li>In this case, Node while importing these modules looks into the key <code>import</code> of the <code>package.json</code> file of our library in order to find the file which it should import.</li><li>Each of these paths specified in these <code>package.json</code> file points to build files of our library that we have generated during the build process, and it placed all these build files inside this folder by default.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="testing-with-commonjs-syntax">Testing with CommonJS Syntax<a href="#testing-with-commonjs-syntax" class="hash-link" aria-label="Direct link to Testing with CommonJS Syntax" title="Direct link to Testing with CommonJS Syntax">​</a></h4><ul><li>Now let&#x27;s see if it is going to work if in our client application instead of using native ES6 Imports we&#x27;re going to use CommonJS syntax by using functional <code>require</code>.</li><li>I&#x27;m going to convert both of these imports to use <code>require</code> like this, and I&#x27;m doing this inside the main JavaScript file of our main client application which imports functionality from the library.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-script">Running the Script<a href="#running-the-script" class="hash-link" aria-label="Direct link to Running the Script" title="Direct link to Running the Script">​</a></h4><ul><li>Now instead of checking the result in the browser, we&#x27;re going to run this script <code>main.js</code> by using <code>node</code>.</li><li>In the terminal, I&#x27;m going to run <code>node main.js</code>.</li><li>And as we can see, we got an error saying that <code>require</code> is not defined in the ES module scope.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixing-the-issue">Fixing the Issue<a href="#fixing-the-issue" class="hash-link" aria-label="Direct link to Fixing the Issue" title="Direct link to Fixing the Issue">​</a></h4><ul><li>In order to fix this issue, we have to rename an extension of this script to <code>.cjs</code> so that <code>node.js</code> will treat this module as CommonJS module.</li><li>But we are going to do it a bit differently.</li><li>Instead of renaming the current file, I&#x27;m going to make a copy of this file with an extension of <code>.cjs</code> like so.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="reverting-changes">Reverting Changes<a href="#reverting-changes" class="hash-link" aria-label="Direct link to Reverting Changes" title="Direct link to Reverting Changes">​</a></h4><ul><li>Then let&#x27;s just revert all the changes we have previously made to the <code>main.js</code> file and leave the file with an extension <code>.cjs</code> as is.</li><li>This file still uses syntax of CommonJS modules with <code>require</code> function calls.</li><li>Now again, let&#x27;s execute <code>main.cjs</code> script in the Node environment.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="successful-execution">Successful Execution<a href="#successful-execution" class="hash-link" aria-label="Direct link to Successful Execution" title="Direct link to Successful Execution">​</a></h4><ul><li>In this case, as we can see, everything works fine.</li><li>We got the result, and as a reminder, this script just extracts usernames from the array of user objects and then it prints out the new array, which consists only of usernames.</li><li>So that&#x27;s what we are seeing in here.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="library-usage">Library Usage<a href="#library-usage" class="hash-link" aria-label="Direct link to Library Usage" title="Direct link to Library Usage">​</a></h4><ul><li>As you can see, it is possible to use our library in both cases.</li><li>Whenever the client application uses native ECMAScript import syntax or the syntax of CommonJS modules by using <code>require</code> function to import functionality from the library.</li><li>This is possible because while building our library, it has generated two versions of our library.</li><li>The first set of files is intended to be used with Native ECMAScript Imports, and the second set of files provides support whenever users are going to import functionality from our library by using <code>require</code> function.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="removing-commonjs-support">Removing CommonJS Support<a href="#removing-commonjs-support" class="hash-link" aria-label="Direct link to Removing CommonJS Support" title="Direct link to Removing CommonJS Support">​</a></h4><ul><li>If I&#x27;m gonna go back to the source code of our library, and in here I&#x27;m going to remove versions of <code>.cjs</code> builds (those are the files responsible for providing support to import our library as CommonJS modules).</li><li>Then after removal both of these files from the <code>list</code> folder, <code>index.cjs</code> and <code>log.cjs</code>, if we&#x27;ll try to execute our <code>main.cjs</code> script from the client application, which still uses CommonJS syntax to import modules from our library.</li><li>In this case, we&#x27;re gonna get the following error, obviously because we have just removed those files that were previously providing support to import functionality from our package by using CommonJS syntax.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-11">Conclusion<a href="#conclusion-11" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h4><ul><li>As we can see, it&#x27;s very good that while building our library it generates two sets of the build files.</li><li>The first set of files is intended to be imported as normal ECMAScript modules, and the second set of files provides support whenever users are going to import functionality from our library by using the <code>require</code> function.</li><li>So let&#x27;s continue a review and possibilities of building libraries in the next lesson.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-external-dependencies"><strong>=&gt;</strong> External dependencies<a href="#-external-dependencies" class="hash-link" aria-label="Direct link to -external-dependencies" title="Direct link to -external-dependencies">​</a></h3><ul><li>So by now, we have already created an <code>npm</code> package and use this package in the client application.</li><li>Let&#x27;s start the development server by running <code>npm run Dev</code> to start our application in the browser.</li><li>The result of using our custom package is shown in a console.</li><li>It basically has extracted user names from the initial array of the user objects, and although that has been implemented in previous lessons, so let&#x27;s just recall how that works in the main script of our client application.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="importing-functionality">Importing Functionality<a href="#importing-functionality" class="hash-link" aria-label="Direct link to Importing Functionality" title="Direct link to Importing Functionality">​</a></h4><ul><li>In the main script of our client application, we are importing functionality from our package.</li><li>But not only from the main module of our package, also from the sub-module <code>log</code>.</li><li>Currently, the project which contains our package has two JavaScript files: <code>index.js</code> and <code>log.js</code>.</li><li>Each of these files exports one function.</li><li>These two functions we are actually importing in our client application from different sub-modules.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="library-integration">Library Integration<a href="#library-integration" class="hash-link" aria-label="Direct link to Library Integration" title="Direct link to Library Integration">​</a></h4><ul><li>But as we can see, currently, our package is pretty simple. It doesn&#x27;t use any third-party libraries.</li><li>In this lesson, we&#x27;re going to review how to integrate a third-party library into our custom package.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="integrating-collectjs">Integrating collect.js<a href="#integrating-collectjs" class="hash-link" aria-label="Direct link to Integrating collect.js" title="Direct link to Integrating collect.js">​</a></h4><ul><li>In this file <code>index.js</code>, we&#x27;re going to import the third-party Library called <code>collect.js</code>.</li><li>This library has lots of utilities to work with arrays of objects.</li><li>We&#x27;re going to leverage this function inside our <code>log</code> function.</li><li>Firstly, let&#x27;s rename this function to <code>plug</code> and <code>lock</code>.</li><li>Then we&#x27;ll basically do the same, which is extract a key from each object of the collection.</li><li>But this time, we&#x27;re gonna use <code>black</code> method on our collection, provided by the <code>collect.js</code> library.</li><li>We&#x27;ll basically do the same here but by using the <code>black</code> method which the <code>collect.js</code> library provides us with, like so.</li><li>Besides returning this result, we&#x27;re also going to log the result in this function.</li><li>Right after we return this result.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="building-the-library-2">Building the Library<a href="#building-the-library-2" class="hash-link" aria-label="Direct link to Building the Library" title="Direct link to Building the Library">​</a></h4><ul><li>Let&#x27;s see what is going to happen if we try to build this library.</li><li>In the terminal, let&#x27;s run <code>npm run build</code>.</li><li>We are receiving the following error that the <code>collect.js</code> library cannot be imported since this library does not exist in our package.</li><li>What we need to do is to actually install this library by running <code>npm install collect.js</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="file-size-increase">File Size Increase<a href="#file-size-increase" class="hash-link" aria-label="Direct link to File Size Increase" title="Direct link to File Size Increase">​</a></h4><ul><li>Now, once I&#x27;m gonna start the build process once again, this time it worked.</li><li>We still see four build files, but this time we can notice that the sizes of some files drastically increased.</li><li>For example, the size of the main file <code>index.js</code> is now almost 60 kilobytes.</li><li>That is because when we were importing the library <code>collect.js</code> in our script, it has actually taken the whole source code of the third-party library and put it in the build.</li><li>Which is why the resulting file of our library has a much bigger size now.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-new-function">Using the New Function<a href="#using-the-new-function" class="hash-link" aria-label="Direct link to Using the New Function" title="Direct link to Using the New Function">​</a></h4><ul><li>But before we&#x27;ll solve this problem, let&#x27;s just import our new functions <code>plug</code> and <code>lock</code> in the client application and see if it&#x27;s gonna work.</li><li>So now, we don&#x27;t need to additionally call the <code>log</code> function in order to print results in a console.</li><li>Because the new functions <code>black</code> and <code>lock</code> are going to extract keys from every object of the array as well as print the result in a console.</li><li>In the console, as we can see, we are seeing the expected result.</li><li>With the difference that our result is contained within the <code>items</code> property of the wrapper object.</li><li>That&#x27;s how the <code>collect.js</code> library works.</li><li>It returns us not only the resulting array but an object which wraps our collection.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="optimizing-library-building">Optimizing Library Building<a href="#optimizing-library-building" class="hash-link" aria-label="Direct link to Optimizing Library Building" title="Direct link to Optimizing Library Building">​</a></h4><ul><li>But this is not the most optimal solution for building our libraries.</li><li>Because anytime we&#x27;re going to import a third-party library, the file size of our library will be drastically increased.</li><li>So let&#x27;s see what we can do about it and what <code>Vite</code> has to offer in this regard.</li><li>So moving on, let&#x27;s open up the configuration file <code>vite.config.js</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-external-libraries">Using External Libraries<a href="#using-external-libraries" class="hash-link" aria-label="Direct link to Using External Libraries" title="Direct link to Using External Libraries">​</a></h4><ul><li>In here, we&#x27;re gonna add another option which is called <code>rollup options</code>.</li><li>It will be an object with the key <code>external</code>.</li><li>This is where we have to specify library names which we don&#x27;t need to be bundled along with the core of our library.</li><li>Since by now we&#x27;re using only one third-party library called <code>collect.js</code>, I&#x27;m going to include only one name in this array like so.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="reducing-file-size">Reducing File Size<a href="#reducing-file-size" class="hash-link" aria-label="Direct link to Reducing File Size" title="Direct link to Reducing File Size">​</a></h4><ul><li>Let&#x27;s watch the size of the bundled file <code>index.js</code>.</li><li>Currently, the size of the <code>index.js</code> file is around 60 kilobytes.</li><li>After I rerun the build process by executing <code>npm run build</code>, this time we see that the file size was drastically dropped.</li><li>If we&#x27;re gonna take a look at the content of the build file <code>index.js</code>, we&#x27;re seeing only our code in here and the import of the <code>collect.js</code> library.</li><li>But the source code of this library is absent, and which is why we don&#x27;t even need to install the library <code>collect.js</code> in our project.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="removing-dependency">Removing Dependency<a href="#removing-dependency" class="hash-link" aria-label="Direct link to Removing Dependency" title="Direct link to Removing Dependency">​</a></h4><ul><li>Let&#x27;s remove this dependency by running <code>npm uninstall</code> and the dependency name.</li><li>Let&#x27;s just rerun the build process of our package once again by executing <code>npm run build</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cache-dependency">Cache Dependency<a href="#cache-dependency" class="hash-link" aria-label="Direct link to Cache Dependency" title="Direct link to Cache Dependency">​</a></h4><ul><li>Now, if we&#x27;ll go to the browser and check the result in our client application again.</li><li>We&#x27;re supposed to get an error since our package relies on the third-party library <code>collect.js</code>.</li><li>But that library was not included in the build version of our package.</li><li>But surprisingly, as we can see, we didn&#x27;t receive any errors.</li><li>The reason it worked is that previously when we started the development server, <code>Vite</code> has gone ahead and cached some dependencies in the folder <code>.vite</code>, which is inside of <code>node_modules</code>.</li><li>This folder has a cached version of the library <code>collect.js</code>.</li><li>So let&#x27;s just go back to the editor, open up the <code>node_modules</code> folder of our client application and remove the folder we cached.</li><li>The dependency is called <code>.vite</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="restarting-development-server">Restarting Development Server<a href="#restarting-development-server" class="hash-link" aria-label="Direct link to Restarting Development Server" title="Direct link to Restarting Development Server">​</a></h4><ul><li>So now, let&#x27;s restart the development server in the client application.</li><li>We are receiving an error that dependency <code>collect.js</code> cannot be imported since it is missing from our client application as well as from the build file of our library.</li><li>The first thing that comes to mind is to actually install this library into our client application.</li><li>So let&#x27;s do just that.</li><li>I&#x27;m gonna execute <code>npm install</code> and specify Library name <code>collect.js</code>.</li><li>Then after running <code>npm run Dev</code> again, we&#x27;re receiving a different error, similar, but this time it could not resolve imports of our own package <code>block</code>.</li><li>Because the link to our package, which we have previously added to the <code>node_modules</code> folder of the client application by executing <code>npm link</code>, is gone for some reason.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="adding-back-the-link">Adding Back the Link<a href="#adding-back-the-link" class="hash-link" aria-label="Direct link to Adding Back the Link" title="Direct link to Adding Back the Link">​</a></h4><ul><li>Let&#x27;s just add the link to our package inside the</li></ul><p><code>node_modules</code> folder one more time by running <code>npm link</code> and our package name.</p><ul><li>I am not going to explain in detail what this command is doing since we were talking about it in one of the previous lessons.</li><li>So now that we have added back the link <code>block</code>, which points to our package inside <code>node_modules</code> folder.</li><li>We can try to start the development server once again.</li><li>And again, the previous error is back, that it cannot resolve dependency <code>collect.js</code>.</li><li>So we&#x27;re going to solve this problem in the next lesson when we will publish our package to the <code>npm</code> registry.</li><li>Then instead of using <code>npm link</code> to make our package available to the client application.</li><li>We&#x27;re going to install our package as any other third-party dependency by running <code>npm install</code>.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-publishing-npm-package"><strong>=&gt;</strong> Publishing NPM package<a href="#-publishing-npm-package" class="hash-link" aria-label="Direct link to -publishing-npm-package" title="Direct link to -publishing-npm-package">​</a></h3><ul><li>It&#x27;s finally time to actually go ahead and publish our package into the <code>npm</code> registry.</li><li>As a reminder, we are already importing functionality from our package in the <code>main.js</code> file of our client application.</li><li>We made it possible by linking our local folder with a package to the <code>node_modules</code> folder of our client application by running the following command: <code>npm link</code> and the name of the package we&#x27;d like to link to our client application.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="logging-into-npm">Logging into npm<a href="#logging-into-npm" class="hash-link" aria-label="Direct link to Logging into npm" title="Direct link to Logging into npm">​</a></h4><ul><li>Now, instead of linking our local library, we&#x27;re actually going to go ahead and publish our package to the <code>npm</code> registry.</li><li>First of all, what we have to do is to log in.</li><li>Let&#x27;s run <code>npm login</code> in the root of our library.</li><li>We will be presented with a couple of prompts.</li><li>Here we need to type in the username as well as the password that we have used to register on the <code>npm</code> website.</li><li>A side note: we need to be registered up front in order to log in to <code>npm</code>.</li><li>Then we also have to enter our email address.</li><li>Right after, we will receive the code on our email.</li><li>As soon as we see this message, that means we were successfully authenticated.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="preparing-to-publish">Preparing to Publish<a href="#preparing-to-publish" class="hash-link" aria-label="Direct link to Preparing to Publish" title="Direct link to Preparing to Publish">​</a></h4><ul><li>Let&#x27;s switch over to my browser, and right here as we can see, I don&#x27;t have any libraries in my <code>npm</code> account yet.</li><li>So let&#x27;s start the process of publishing our library to <code>npm</code>.</li><li>First of all, let&#x27;s go and open up the <code>package.json</code> file of our library.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="setting-package-name">Setting Package Name<a href="#setting-package-name" class="hash-link" aria-label="Direct link to Setting Package Name" title="Direct link to Setting Package Name">​</a></h4><ul><li>Here, the first thing that I&#x27;m going to do is rename the value under the key <code>name</code>.</li><li>Besides the name of our library, I&#x27;m also going to use a namespace.</li><li>This namespace should match the username of the logged-in user.</li><li>What this will do is it will basically make sure that we are not going to get any naming collisions.</li><li>There is a high chance that the package with the name <code>plug</code> already exists on <code>npm</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="publishing-the-package">Publishing the Package<a href="#publishing-the-package" class="hash-link" aria-label="Direct link to Publishing the Package" title="Direct link to Publishing the Package">​</a></h4><ul><li>Now, in the terminal, to publish the package, we have to run <code>npm publish</code>.</li><li>This time we get an error saying that our library is considered to be private.</li><li>The reason is that in the <code>package.json</code> file, we have the key <code>private</code> with a <code>true</code> value.</li><li>So let&#x27;s remove this key and run <code>npm publish</code> again.</li><li>It looks like publishing private packages is actually a paid feature.</li><li>When running <code>npm publish</code>, we have to specify one flag called <code>access</code> with an access modifier.</li><li>In this case, I&#x27;m going to use <code>public</code>, so this way our library will be publicly visible.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="successful-publication">Successful Publication<a href="#successful-publication" class="hash-link" aria-label="Direct link to Successful Publication" title="Direct link to Successful Publication">​</a></h4><ul><li>Finally, the command has finished with no errors.</li><li>If I switch over to the browser, I can see that my library was published.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="updating-the-client-application">Updating the Client Application<a href="#updating-the-client-application" class="hash-link" aria-label="Direct link to Updating the Client Application" title="Direct link to Updating the Client Application">​</a></h4><ul><li>Next, let&#x27;s go back to the editor inside the client application.</li><li>Let&#x27;s open up <code>package.json</code>, and here, let&#x27;s remove the only dependency, <code>collect.js</code>.</li><li>We&#x27;re also going to remove the folder with this dependency from the <code>node_modules</code> folder as well as the special folder <code>.vite</code> that <code>Vite</code> generates to store cached dependencies.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="installing-the-published-library">Installing the Published Library<a href="#installing-the-published-library" class="hash-link" aria-label="Direct link to Installing the Published Library" title="Direct link to Installing the Published Library">​</a></h4><ul><li>Now, in order to install the library I have just published, we can use <code>npm install</code> and the full Library name.</li><li>The full name is stored in here under the <code>name</code> key of the <code>package.json</code> of our library project.</li><li>So let&#x27;s see what is going to happen when we run <code>npm install</code> and our library name.</li><li>As we can see, the library was successfully installed.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="updating-import-paths">Updating Import Paths<a href="#updating-import-paths" class="hash-link" aria-label="Direct link to Updating Import Paths" title="Direct link to Updating Import Paths">​</a></h4><ul><li>Now I can run the development server by running <code>npm run Dev</code>.</li><li>And here, I see the following error saying that some of the dependencies were not resolved.</li><li>Those dependencies are from our library.</li><li>The reason is that currently our client application, inside <code>main.js</code> file, references old paths to import functionality from our library.</li><li>We have to properly update this import path by specifying the full Library name.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixing-the-build">Fixing the Build<a href="#fixing-the-build" class="hash-link" aria-label="Direct link to Fixing the Build" title="Direct link to Fixing the Build">​</a></h4><ul><li>Let&#x27;s start the development server again.</li><li>This time, we got a new error.</li><li>To understand what&#x27;s going on in here, let&#x27;s open up the folder with our package inside the <code>node_modules</code> folder of our client application.</li><li>Here we can see that there is no folder <code>dist</code> with the built assets of our library.</li><li>But, in fact, inside the <code>package.json</code> file, we are referencing these files from the <code>dist</code> folder because those are the files that have to be imported when users are going to import functionality from our library.</li><li>So we actually have to do one more thing before publishing our package to <code>npm</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="specifying-files-to-publish">Specifying Files to Publish<a href="#specifying-files-to-publish" class="hash-link" aria-label="Direct link to Specifying Files to Publish" title="Direct link to Specifying Files to Publish">​</a></h4><ul><li>Let&#x27;s go back to the <code>package.json</code> file of our library.</li><li>In here, we have to specify the key <code>files</code>, where we can list all the files and folders that have to be published.</li><li>In our case, we only need to publish the folder with the build assets, which is this.</li><li>So I&#x27;m going to specify one folder name in here.</li><li>And then once we do any change to our library, I&#x27;m also going to have to republish this library but with a different version number.</li><li>We could update this version manually, or we could use an <code>npm</code> command called <code>npm version</code>.</li><li>So we also have to specify which version number we&#x27;d like to update, either the first one, second one, or this third one.</li><li>In this case, it&#x27;s not really important which one we&#x27;re going to update, so I&#x27;m going to update the third one.</li><li>The word responsible for updating the third number is &quot;patch&quot;.</li><li>Let&#x27;s run this command.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="updating-the-version-number">Updating the Version Number<a href="#updating-the-version-number" class="hash-link" aria-label="Direct link to Updating the Version Number" title="Direct link to Updating the Version Number">​</a></h4><ul><li>As we can see, our version number was updated.</li><li>Also, this number was updated inside <code>package.json</code>.</li><li>To grab the new version of this library in the client application, we have to reinstall it.</li><li>Before installing the new version of this library in the client application, let&#x27;s go inside the <code>node_modules</code> folder of our client application and manually remove the folder of our library from here.</li><li>Right after that, we are ready to install a new version.</li><li>Let&#x27;s run <code>npm install</code> and our library name.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="automatically-installing-dependencies">Automatically Installing Dependencies<a href="#automatically-installing-dependencies" class="hash-link" aria-label="Direct link to Automatically Installing Dependencies" title="Direct link to Automatically Installing Dependencies">​</a></h4><ul><li>What actually happened this time is this: besides installing our library, we can see that inside the <code>node_modules</code> folder, there is a <code>collect.js</code> folder.</li><li>Which means dependency <code>collect.js</code> was automatically installed along with our package.</li><li>The reason it was installed automatically is because we have previously specified this dependency under <code>peerDependencies</code> key inside our library.</li><li>So from now on, when any client application is going to install our library, the dependency <code>collect.js</code> will be automatically installed.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="successful-testing">Successful Testing<a href="#successful-testing" class="hash-link" aria-label="Direct link to Successful Testing" title="Direct link to Successful Testing">​</a></h4><ul><li>Finally, if we run the development server inside our client application, eventually it worked.</li><li>In the browser, we can see an expected result in a console.</li><li>Let&#x27;s see if the production build is also going to</li></ul><p>work.</p><ul><li>I&#x27;m going to run <code>npm run build</code> to build this client application.</li><li>The build has finished without errors.</li><li>That&#x27;s good.</li><li>Now let&#x27;s run this build in the browser by running <code>npm run preview</code>.</li><li>And then by opening up this URL, we see the same result as in development mode.</li><li>So we were able to successfully publish our package to <code>npm</code> registry.</li><li>Additionally, our package contains an external dependency, <code>collect.js</code>, which is not bundled with our library.</li><li>So all client applications that are going to use our library, once they&#x27;re going to install our library, all third-party libraries which our library depends upon, which in this case is only one dependency, <code>collect.js</code>, they are going to be automatically installed.</li><li>That&#x27;s about it for this lesson.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-image-optimization"><strong>=&gt;</strong> Image optimization<a href="#-image-optimization" class="hash-link" aria-label="Direct link to -image-optimization" title="Direct link to -image-optimization">​</a></h3><ul><li>In this lesson, let&#x27;s review how we can optimize images by using Vite.</li><li>For that, I already prepared a default Vite project. Let&#x27;s open it up in the browser and start.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="initial-preparation-1">Initial Preparation<a href="#initial-preparation-1" class="hash-link" aria-label="Direct link to Initial Preparation" title="Direct link to Initial Preparation">​</a></h4><ul><li>At the beginning, as always, let&#x27;s just do a little preparation.</li><li>Let&#x27;s switch over to <code>index.html</code> file.</li><li>Here, I&#x27;m going to add an image.</li><li>In order for this image to not exceed the available widths of the browser, let&#x27;s assign <code>width: 100%</code>.</li><li>Then, what we&#x27;re gonna do inside <code>main.js</code>?</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="image-import-and-assignment">Image Import and Assignment<a href="#image-import-and-assignment" class="hash-link" aria-label="Direct link to Image Import and Assignment" title="Direct link to Image Import and Assignment">​</a></h4><ul><li>Firstly, let&#x27;s clear everything from here and import an example image which I&#x27;m going to add in this project in a bit.</li><li>So then, once we get the path to this image inside the <code>image</code> variable, let&#x27;s just select the DOM element of that image we have just added and assign the path of the image to the <code>src</code> attribute like so.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="adding-the-image">Adding the Image<a href="#adding-the-image" class="hash-link" aria-label="Direct link to Adding the Image" title="Direct link to Adding the Image">​</a></h4><ul><li>Let me just quickly add an image to this project. Here it is.</li><li>This is how our image we&#x27;re going to optimize looks like.</li><li>In order to easily see the size of any file within VS Code, we can use the following extension.</li><li>I already have this installed, and the way this extension works is it just shows the size of an active file in the status bar at the bottom right corner.</li><li>I currently have my status bar hidden, so let me just enable it.</li><li>Right here, I can see the original size of this image. As we can see, this image is quite big, and the size exceeds one megabyte.</li><li>Now, before proceeding further, let&#x27;s switch over to the browser and make sure that this image shows up and everything looks good. We can continue.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="image-optimization-plugin">Image Optimization Plugin<a href="#image-optimization-plugin" class="hash-link" aria-label="Direct link to Image Optimization Plugin" title="Direct link to Image Optimization Plugin">​</a></h4><ul><li>In order to optimize images, Vite has several plugins, and one of them we&#x27;re gonna use in this lesson.</li><li>I&#x27;m going to use a plugin called <code>vite-plugin-image-optimizer</code>.</li><li>This plugin relies on two other libraries, <code>sharp.js</code> and <code>svgo</code> for image optimizations.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="installing-the-plugin">Installing the Plugin<a href="#installing-the-plugin" class="hash-link" aria-label="Direct link to Installing the Plugin" title="Direct link to Installing the Plugin">​</a></h4><ul><li>So here, first things first, let&#x27;s just install this plugin by running the following npm command. I&#x27;m gonna copy over this command and run it in my terminal.</li><li>And then, since this plugin relies on two other libraries, those libraries have to be manually installed. So one by one, I&#x27;m going to copy these commands to install these two libraries.</li><li>Firstly, let&#x27;s install <code>sharp</code>.</li><li>Right after that, let&#x27;s also install another library, <code>svgo</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-the-plugin">Configuring the Plugin<a href="#configuring-the-plugin" class="hash-link" aria-label="Direct link to Configuring the Plugin" title="Direct link to Configuring the Plugin">​</a></h4><ul><li>And once the installation process is finished, we have to configure this plugin. The way we do this is by inserting this configuration into our Vite configuration file.</li><li>Currently, I do not have this file, so let me create it and paste in here all that configuration. There is nothing special about this configuration.</li><li>The most important thing here is that we import and include our new image optimization plugin and add it to the build pipeline.</li><li>Actually, this plugin allows us to configure a lot of things, but we&#x27;re not going to review any possible configuration options.</li><li>Instead, let&#x27;s just see how to optimize an image with an extension <code>.jpg</code>. So let me copy over this configuration option and paste it into my <code>vite.config.js</code>.</li><li>By using this option <code>quality</code>, we can configure how much we want all jpg images to be optimized.</li><li>As an example, let&#x27;s specify 80.</li><li>And by the way, image optimization only happens when building the project for production.</li><li>So I&#x27;m gonna have to run the build by using <code>npm run build</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="building-for-production-2">Building for Production<a href="#building-for-production-2" class="hash-link" aria-label="Direct link to Building for Production" title="Direct link to Building for Production">​</a></h4><ul><li>And right here, we can see the new output. This is the result of that image optimization plugin.</li><li>And right away, we can see in here that two images were optimized. The first image is the image we just added to the project, and another one, <code>vite.jpg</code>, is a default one which resides inside the <code>public</code> folder by default.</li><li>So as you can see, the size of the first image was reduced by around 300 kilobytes.</li><li>And now, to see the result in the browser, I&#x27;m gonna run <code>npm run preview</code> to open up the built project in the browser.</li><li>By following the address <code>localhost:4173</code>, we can see in the browser the built project.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="checking-the-optimized-image">Checking the Optimized Image<a href="#checking-the-optimized-image" class="hash-link" aria-label="Direct link to Checking the Optimized Image" title="Direct link to Checking the Optimized Image">​</a></h4><ul><li>And there we go, we got here an optimized image. But the size here is a little bit different than the one we have just seen in the terminal.</li><li>Anyway, our image optimization worked.</li><li>So now, let&#x27;s just change the value of the <code>quality</code> configuration option. For example, let&#x27;s specify <code>40</code>, and then rerun the build by running <code>npm run build</code>.</li><li>This time, the image size was reduced even more.</li><li>And of course, if I open up this build in a browser, we can see in here the newly optimized image with a size of 392 kilobytes.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="image-optimization-results">Image Optimization Results<a href="#image-optimization-results" class="hash-link" aria-label="Direct link to Image Optimization Results" title="Direct link to Image Optimization Results">​</a></h4><ul><li>Let&#x27;s review in the editor. Let&#x27;s open up the original image with the name <code>image.jpg</code>.</li><li>And as we can see, the original size of this image was over one megabyte.</li><li>But then, when building the project for production, the size of this image was dropped to 344 kilobytes.</li><li>Actually, the point of this lesson was not to show you how this particular plugin works, but how to include any plugin into Vite.</li><li>Because the installation process as well as configuration will be pretty similar.</li><li>And of course, this is not the only plugin which allows you to optimize images. There are also other choices.</li><li>So we just have to pick the plugin that satisfies our needs and then follow simple steps to install and configure this plugin.</li><li>And then, we&#x27;ll be good to go.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-plugin-creation"><strong>=&gt;</strong> Plugin creation<a href="#-plugin-creation" class="hash-link" aria-label="Direct link to -plugin-creation" title="Direct link to -plugin-creation">​</a></h3><ul><li>In this lesson, let&#x27;s explore how we can create our own Vite plugins.</li><li>I have already created a default Vite project. Let&#x27;s run the development server.</li><li>To make things a little bit easier while developing our plugin, let&#x27;s use another plugin called <code>Vite plugin inspect</code>.</li><li>This plugin will provide us with an inspector view where we can see all the transformations that are going to be applied to our modules by all plugins, including our own.</li><li>Let&#x27;s quickly install this plugin by using npm and run this command in the terminal.</li><li>Then, let&#x27;s copy over this code to include this plugin. Let&#x27;s create a configuration file called <code>vite.config.js</code> and paste in here that code.</li><li>Now, we&#x27;ll have to restart my development server by running <code>npm run dev</code>.</li><li>In here, besides our app URL, we can also see the inspector URL. By opening up this URL in the browser, we can access our inspector.</li><li>So, if we see this page, that means our inspector was installed successfully. We can continue.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-our-own-plugin">Creating Our Own Plugin<a href="#creating-our-own-plugin" class="hash-link" aria-label="Direct link to Creating Our Own Plugin" title="Direct link to Creating Our Own Plugin">​</a></h4><ul><li>We&#x27;re going to create our own plugin, which is going to allow us to import CSV modules and transform CSV code into valid JavaScript arrays.</li><li>We&#x27;re going to use the Node.js Library called <code>node-csv</code>. The specific library we need is called <code>CSV parse</code>.</li><li>Let&#x27;s install this library by running the following npm command in our terminal.</li><li>Before actually getting into writing our plugin, let&#x27;s do a little preparation by adding an empty <code>pre</code> tag in our HTML file.</li><li>Then, let&#x27;s switch over to <code>main.js</code> and remove everything from here. We&#x27;re going to start from scratch.</li><li>What we&#x27;re going to do in here is try to import the CSV file we&#x27;re going to create soon.</li><li>We&#x27;re going to add this CSV file to the project.</li><li>Here, I&#x27;m going to insert some random data. We&#x27;re going to work with products and their quantities.</li><li>The first line will contain names of the columns of the CSV file.</li><li>On other lines, we&#x27;ll contain the data for every column.</li><li>By default, Vite does not support importing CSV modules.</li><li>So when we switch over to the browser, we&#x27;ll actually get an error because our server responds with the raw content of the CSV file.</li><li>This import didn&#x27;t work.</li><li>So, before actually importing CSV modules, we have to apply a custom transformation, which would transform CSV code into a valid JavaScript array.</li><li>Our transformed JavaScript array could be assigned to the <code>products</code> variable.</li><li>Now, the main part of this lesson is creating the Vite plugin.</li><li>A Vite plugin is basically an object that we should add to the plugins array in our Vite configuration file.</li><li>Firstly, we&#x27;ll have to specify the name for our plugin. I&#x27;m going to use <code>vite-plugin-csv</code>.</li><li>Most importantly, we have to provide a special function called <code>transform</code>, which in our case will be asynchronous.</li><li>This function will be called automatically by Vite whenever we&#x27;re going to import any modules inside JavaScript files.</li><li>The first parameter of this hook will be the content of the imported module, and the second parameter will be the path to this module. I&#x27;m going to call these parameters <code>source</code> and <code>id</code>.</li><li>Once we have fetched the content of the CSV module, we need to transform this CSV code into a JavaScript array.</li><li>We can do this by using a function called <code>parse</code>. This function is going to be imported from the <code>csv-parse</code> module.</li><li>To this function, I&#x27;m going to pass a configuration object with only one option, <code>columns</code>. This option will tell the <code>parse</code> function that our CSV code contains the names of columns as the first line in our CSV file.</li><li>Let&#x27;s add an import for the <code>parse</code> function from the <code>csv-parse</code> package in the sync submodule.</li><li>By following conventions of Vite, the <code>transform</code> function has to return an object, which should have a key called <code>code</code>. In here, we have to provide valid ECMAScript code, which is supposed to be exported when people are going to import CSV modules in JavaScript files.</li><li>This hook <code>transform</code> is going to be called anytime we&#x27;re going to import any module inside JavaScript files, not only CSV files. We have to restrict execution of this hook to only CSV modules by adding a conditional and wrapping all the code by this conditional.</li><li>We&#x27;re going to use a regular expression to check if the currently imported module is indeed a CSV module. Only then, we&#x27;re going to run this transformation; otherwise, our plugin is not going to do anything when importing other modules.</li><li>Let&#x27;s also print some variable values for clarity. For example, <code>source</code>, <code>id</code>, and the <code>records</code>.</li><li>In the browser, there is no error anymore while importing CSV modules. Instead, we got transformed CSV code into a JavaScript array on the page. Let&#x27;s make this output a little bit prettier by adding the style `white-space</li></ul><p><code>with the value</code>pre-wrap` to place the content on multiple lines.</p><ul><li>The request which was supposed to fetch the CSV module from the server in the response shows that the response was turned into a valid ECMAScript module, which exports an array of objects.</li><li>This array contains objects for every line from the CSV file.</li><li>In the server console, we can see the result of these variables. These variables correspond to the <code>source</code>, <code>id</code>, and the <code>records</code>.</li><li>This is the result of outputting that variable in the server console.</li><li>One more time, while importing a CSV module in our JavaScript file, we got transformed CSV code into a JavaScript array.</li><li>This JavaScript array was assigned to the <code>products</code> variable, which later was stringified and assigned to the <code>textContent</code> property of the <code>pre</code> tag.</li><li>Now, let&#x27;s take a look at the transformation of our custom plugin that was applied to the CSV module.</li><li>Let&#x27;s open up the inspector and click on our module <code>products.csv</code>.</li><li>We see the transformation, which corresponds to the name of our plugin <code>vite-plugin-csv</code>.</li><li>Our plugin has read the content of the CSV file and transformed this code into a valid ECMAScript module.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-12">Conclusion<a href="#conclusion-12" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h4><ul><li>We have successfully implemented our custom Vite plugin, which allows us to import CSV modules in JavaScript files.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-plugin-options"><strong>=&gt;</strong> Plugin options<a href="#-plugin-options" class="hash-link" aria-label="Direct link to -plugin-options" title="Direct link to -plugin-options">​</a></h3><ul><li>In the previous lesson, we have implemented the plugin which allows us to import CSV files inside of ecmascript modules.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-plugin-structure">The Plugin Structure<a href="#the-plugin-structure" class="hash-link" aria-label="Direct link to The Plugin Structure" title="Direct link to The Plugin Structure">​</a></h4><ul><li>The way it works is as follows: whenever we import CSV file the CSV synex gets transformed into JavaScript array of objects.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="organizing-the-plugin">Organizing the Plugin<a href="#organizing-the-plugin" class="hash-link" aria-label="Direct link to Organizing the Plugin" title="Direct link to Organizing the Plugin">​</a></h4><ul><li>But currently our plugin is kind of inlined inside of vid configuration.</li><li>Usually, plugins are extracted into separate JavaScript modules in the form of a factory function.</li><li>So let&#x27;s try to move it into a separate file just like it is done for the inspect plugin.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-the-plugin">Setting up the Plugin<a href="#setting-up-the-plugin" class="hash-link" aria-label="Direct link to Setting up the Plugin" title="Direct link to Setting up the Plugin">​</a></h4><ul><li>Here we&#x27;re just importing this plugin and then colon it inside this plugins array.</li><li>So we&#x27;re going to do the same with our CSV plugin.</li><li>Let&#x27;s just cut this whole object, create a new file for this plugin in the root of our project, let&#x27;s call it vid plugin CSV.</li><li>This module is going to export one function which will be a factory function for our plugin.</li><li>Here we&#x27;re going to paste that whole object with plugin definition.</li><li>Let&#x27;s also move that import that we need in this plugin of the function <code>parse</code>.</li><li>Since this function <code>parse</code> gets imported from the sync subm module, there is no need to make our transform hook a syncronous.</li><li>Let&#x27;s also rename this plugin to simply <code>CSV</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="including-the-plugin">Including the Plugin<a href="#including-the-plugin" class="hash-link" aria-label="Direct link to Including the Plugin" title="Direct link to Including the Plugin">​</a></h4><ul><li>Let&#x27;s get back to our vid configuration and include this plugin by firstly importing the factory function from <code>vid-plugin-csv</code> file.</li><li>Then, just like it is done for the inspect plugin, right next to it, we&#x27;re going to call our Factory function <code>CSV</code>.</li><li>This way, we have just included our own plugin.</li><li>Please note that there is no difference between including plugins in line in the form of JavaScript objects or by moving them into Factory functions.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="testing-the-plugin">Testing the Plugin<a href="#testing-the-plugin" class="hash-link" aria-label="Direct link to Testing the Plugin" title="Direct link to Testing the Plugin">​</a></h4><ul><li>Just to make sure that our plugin works as expected and we got the same result as before, let&#x27;s run the development server and take a look in the browser.</li><li>As we can see, we get the same data. That means our plugin works as before.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exploring-existing-plugins">Exploring Existing Plugins<a href="#exploring-existing-plugins" class="hash-link" aria-label="Direct link to Exploring Existing Plugins" title="Direct link to Exploring Existing Plugins">​</a></h4><ul><li>Now a couple of words about existing plugins that exist in V ecosystem.</li><li>First of all, there is a list of official plugins provided on the official documentation page.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="rup-plugins">Rup Plugins<a href="#rup-plugins" class="hash-link" aria-label="Direct link to Rup Plugins" title="Direct link to Rup Plugins">​</a></h4><ul><li>V internally uses another bundle called rup to build projects for production.</li><li>There are a bunch of Rup plugins that are compatible with VD projects.</li><li>The list of Rup plugins compatible with VD projects can be found on this page.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="community-plugins">Community Plugins<a href="#community-plugins" class="hash-link" aria-label="Direct link to Community Plugins" title="Direct link to Community Plugins">​</a></h4><ul><li>Besides official rup and VD plugins, there are countless plugins built by the community.</li><li>For example, there is some rup repository which has a collection of resources specifically for rup.</li><li>This page also includes a list of community plugins.</li><li>A similar page also exists for V. This repo is called awesome vit.</li><li>Here we can find a bunch of links to everything related to V projects as well as plugins developed by the community.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="plugin-options">Plugin Options<a href="#plugin-options" class="hash-link" aria-label="Direct link to Plugin Options" title="Direct link to Plugin Options">​</a></h4><ul><li>Now let&#x27;s go back to our plugin configuration and consider a couple more options that we can use for our plugin.</li><li>An important option is called <code>apply</code>, and this option allows us to specify which environment our plugin should be included into.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="apply-option">Apply Option<a href="#apply-option" class="hash-link" aria-label="Direct link to Apply Option" title="Direct link to Apply Option">​</a></h4><ul><li>For example, if we&#x27;d like to use this plugin only during development, we can specify <code>Val serve</code> for this option.</li><li>This way, the plugin will only be activated while we are running the development server.</li><li>By using another keyword called <code>build</code>, it allows us to include this plugin only in production builds.</li><li>In other words, when we are running <code>npm run build</code> to build the project for production.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-closure">Using Closure<a href="#using-closure" class="hash-link" aria-label="Direct link to Using Closure" title="Direct link to Using Closure">​</a></h4><ul><li>Besides specifying predefined values for the <code>apply</code> option, we can also specify a closure which gives us more fine-grain control.</li><li>Closure accepts a couple of parameters, first of which will be a configuration object.</li><li>Another parameter will also be an object with a couple of useful properties, such as <code>common</code> and <code>mode</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="customizing-the-plugin">Customizing the Plugin<a href="#customizing-the-plugin" class="hash-link" aria-label="Direct link to Customizing the Plugin" title="Direct link to Customizing the Plugin">​</a></h4><ul><li>Let&#x27;s just print out each of those variables to see what they contain.</li><li>By looking in the console, we can see that the first parameter basically printed the whole configuration object.</li><li><code>common</code> variable stores <code>Val serve</code>, and <code>mode</code> variable stores <code>Val development</code>, since we are currently running it in development mode.</li><li>Based on these values, we can do extra checks.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-configuration-object">Accessing Configuration Object<a href="#accessing-configuration-object" class="hash-link" aria-label="Direct link to Accessing Configuration Object" title="Direct link to Accessing Configuration Object">​</a></h4><ul><li>There may be situations where we need to access the configuration object in other hooks.</li><li>For example, in this <code>transform</code> hook.</li><li>How do I get access to this configuration object from other hooks?</li><li>There is another hook that V provides called <code>config resolved</code>.</li><li>This hook will be called automatically before the <code>transform</code> hook and it receives a configuration object.</li><li>This configuration object can be stored in a variable so it will be accessible to other hooks.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-config-resolved-hook">Using Config Resolved Hook<a href="#using-config-resolved-hook" class="hash-link" aria-label="Direct link to Using Config Resolved Hook" title="Direct link to Using Config Resolved Hook">​</a></h4><ul><li>I&#x27;m going to declare a variable called <code>config</code> before returning configuration for this plugin.</li><li>Inside <code>config resolved</code> hook, I&#x27;m going to assign the resolved configuration object to this variable <code>config</code>.</li><li>Then it&#x27;s accessible from other hooks.</li><li>Based on configuration values, we can easily do extra checks in this <code>transform</code> hook.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="customizing-the-parsing">Customizing the Parsing<a href="#customizing-the-parsing" class="hash-link" aria-label="Direct link to Customizing the Parsing" title="Direct link to Customizing the Parsing">​</a></h4><ul><li>For example, let&#x27;s compare <code>val serve</code> with the value stored in the <code>common</code> variable.</li><li>Based on that, we&#x27;re going to specify this value as the value for the <code>columns</code> option for the <code>parse</code> function.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="testing-the-transformation">Testing the Transformation<a href="#testing-the-transformation" class="hash-link" aria-label="Direct link to Testing the Transformation" title="Direct link to Testing the Transformation">​</a></h4><ul><li>Now let&#x27;s take a look at the difference.</li><li>Firstly, let&#x27;s run our development server and check the result of how our CSV code was transformed.</li><li>As we can see, we got an array of objects where every key corresponds to the field from the CSV file.</li><li>Every such object corresponds to an individual line from the CSV file.</li><li>If I&#x27;m going to run the development build, in this case, we&#x27;re supposed to get a different result.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="transforming-html-content">Transforming HTML Content<a href="#transforming-html-content" class="hash-link" aria-label="Direct link to Transforming HTML Content" title="Direct link to Transforming HTML Content">​</a></h4><ul><li>Let&#x27;s run this production build in the browser by running the preview server.</li><li>As we can see, the output is different in this case.</li><li>The first element of this array is another array which consists only of column values from the CSV file.</li><li>All other elements store values from individual rows of the CSV file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="transforming-index-html">Transforming Index HTML<a href="#transforming-index-html" class="hash-link" aria-label="Direct link to Transforming Index HTML" title="Direct link to Transforming Index HTML">​</a></h4><ul><li>Now let&#x27;s review one more useful hook which basically allows us to transform HTML content.</li><li>This hook is called <code>transform index HTML</code>.</li><li>It is about to receive the whole content of the HTML file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="modifying-html-content">Modifying HTML Content<a href="#modifying-html-content" class="hash-link" aria-label="Direct link to Modifying HTML Content" title="Direct link to Modifying HTML Content">​</a></h4><ul><li>In here, we can do all necessary transformations with the content of the HTML file.</li><li>Let&#x27;s replace the closing body tag with the following.</li><li>I&#x27;m going to put a basic script at the end of the body element which will open up a dialogue with the word &quot;hello&quot; like so.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="proper-hook-placement">Proper Hook Placement<a href="#proper-hook-placement" class="hash-link" aria-label="Direct link to Proper Hook Placement" title="Direct link to Proper Hook Placement">​</a></h4><ul><li>It is very important to position all the hooks on the same level.</li><li>So the <code>transform</code> hook as well as <code>transform index HTML</code> hook should be included on the same level like this.</li><li>Now after running the development server in the browser, we can see that firstly we got an</li></ul><p>alert with the word &quot;hello&quot;.</p><ul><li>Our transformation of the HTML file was successful.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-13">Conclusion<a href="#conclusion-13" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h4><ul><li>In this lesson, we have only reviewed a couple of hooks that we can leverage in our plugins.</li><li>But, in fact, there are a lot more such hooks, and documentation about those can be found in the official vid documentation.</li><li>Even only using these hooks, we get a lot of flexibility and we can transform imported modules in whatever way we like.</li><li>Let&#x27;s continue learning about V in the next lesson.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-server-options"><strong>=&gt;</strong> Server options<a href="#-server-options" class="hash-link" aria-label="Direct link to -server-options" title="Direct link to -server-options">​</a></h3><ul><li>Let&#x27;s consider several options which allow us to configure the development server.</li><li>When we start the development server by running <code>npm run dev</code>, it starts using Port 5173.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="dynamic-port-allocation">Dynamic Port Allocation<a href="#dynamic-port-allocation" class="hash-link" aria-label="Direct link to Dynamic Port Allocation" title="Direct link to Dynamic Port Allocation">​</a></h4><ul><li>If we run another copy of this server, the port will be changed dynamically because the previous Port 5173 was already taken by the previous copy of the development server.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="custom-port-configuration">Custom Port Configuration<a href="#custom-port-configuration" class="hash-link" aria-label="Direct link to Custom Port Configuration" title="Direct link to Custom Port Configuration">​</a></h4><ul><li>Of course, this port is configurable, and just like other configurations, we can override the port in the vid configuration file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-vid-configuration-file">Creating a Vid Configuration File<a href="#creating-a-vid-configuration-file" class="hash-link" aria-label="Direct link to Creating a Vid Configuration File" title="Direct link to Creating a Vid Configuration File">​</a></h4><ul><li>Let&#x27;s create an empty vid configuration file.</li><li>In here, we&#x27;re going to specify an object under the server key where we can configure several aspects of the vid development server.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="specifying-the-port">Specifying the Port<a href="#specifying-the-port" class="hash-link" aria-label="Direct link to Specifying the Port" title="Direct link to Specifying the Port">​</a></h4><ul><li>For example, I want the port to be 3333.</li><li>Now after running <code>npm run dev</code>, we can notice that the port we just specified was used for the development server.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="dynamic-port-allocation-1">Dynamic Port Allocation<a href="#dynamic-port-allocation-1" class="hash-link" aria-label="Direct link to Dynamic Port Allocation" title="Direct link to Dynamic Port Allocation">​</a></h4><ul><li>Still, if we&#x27;re going to launch another copy of this server, the port will be changed.</li><li>This is a pretty convenient behavior.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="restricting-port-usage">Restricting Port Usage<a href="#restricting-port-usage" class="hash-link" aria-label="Direct link to Restricting Port Usage" title="Direct link to Restricting Port Usage">​</a></h4><ul><li>But in case we&#x27;d like this command to serve an error if the specified port was already taken, we can specify another configuration option called <code>restrict port</code> with the value <code>true</code>.</li><li>Now, if we launch one instance of the development server and then try to launch another instance, it will throw an error because Port 33333 is already in use.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="custom-headers">Custom Headers<a href="#custom-headers" class="hash-link" aria-label="Direct link to Custom Headers" title="Direct link to Custom Headers">​</a></h4><ul><li>Another option called <code>headers</code> allows us to specify custom headers for responses.</li><li>As an example, let&#x27;s specify one header with a name <code>a</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="viewing-custom-headers">Viewing Custom Headers<a href="#viewing-custom-headers" class="hash-link" aria-label="Direct link to Viewing Custom Headers" title="Direct link to Viewing Custom Headers">​</a></h4><ul><li>In the browser, it will inspect the request for fetch in the current page.</li><li>Under the response headers, we are noticing our custom header <code>a</code>.</li><li>This header will be added not only in the response for fetching the current page but also for fetching other assets such as JavaScript files.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-proxy-option">Using the Proxy Option<a href="#using-the-proxy-option" class="hash-link" aria-label="Direct link to Using the Proxy Option" title="Direct link to Using the Proxy Option">​</a></h4><ul><li>Another interesting option is called <code>proxy</code>.</li><li>This will allow us to provide custom URLs which will be accessible from our Dev server.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="redirecting-requests">Redirecting Requests<a href="#redirecting-requests" class="hash-link" aria-label="Direct link to Redirecting Requests" title="Direct link to Redirecting Requests">​</a></h4><ul><li>For example, I want to use the URL <code>/products</code> to fetch a list of dummy products during development.</li><li>We can achieve this by specifying a custom option <code>proxy</code>.</li><li>This option holds an object where keys are addresses that would like to be accessible, and the values for those keys will be addresses that the dev server is going to redirect those requests.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-a-dummy-api">Using a Dummy API<a href="#using-a-dummy-api" class="hash-link" aria-label="Direct link to Using a Dummy API" title="Direct link to Using a Dummy API">​</a></h4><ul><li>For this particular example, I&#x27;m going to use a third-party server called <code>damages.json</code> which provides us with a dummy API.</li><li>It gives us a set of dummy endpoints which we can use during our local development.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="custom-proxy-configuration">Custom Proxy Configuration<a href="#custom-proxy-configuration" class="hash-link" aria-label="Direct link to Custom Proxy Configuration" title="Direct link to Custom Proxy Configuration">​</a></h4><ul><li>Besides specifying only addresses for keys inside a proxy object, we can also provide more detailed configuration in the form of an object.</li><li>For example, I want to have an API route in my development server which is going to redirect me to that same damages.json service but while redirecting me to these servers, I don&#x27;t want to include the API segment in the address.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="modifying-the-final-url">Modifying the Final URL<a href="#modifying-the-final-url" class="hash-link" aria-label="Direct link to Modifying the Final URL" title="Direct link to Modifying the Final URL">​</a></h4><ul><li>I&#x27;m basically going to modify the final URL which is going to be used to make a request to the damages.json API by completely removing the API segment from the URL.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="handling-different-origins">Handling Different Origins<a href="#handling-different-origins" class="hash-link" aria-label="Direct link to Handling Different Origins" title="Direct link to Handling Different Origins">​</a></h4><ul><li>This configuration is going to allow me to do the following type of requests.</li><li>For example, if I&#x27;m going to refer to <code>/API/products</code>, since the API segment will be removed, the resulting URL will be as follows.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="custom-origin-configuration">Custom Origin Configuration<a href="#custom-origin-configuration" class="hash-link" aria-label="Direct link to Custom Origin Configuration" title="Direct link to Custom Origin Configuration">​</a></h4><ul><li>So now let&#x27;s try to call this URL in the browser <code>/API/products</code>.</li><li>This time I&#x27;m receiving an error with an error code of 500.</li><li>This error has something to do with different Origins.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="handling-different-origins-with-change-origin">Handling Different Origins with <code>change origin</code><a href="#handling-different-origins-with-change-origin" class="hash-link" aria-label="Direct link to handling-different-origins-with-change-origin" title="Direct link to handling-different-origins-with-change-origin">​</a></h4><ul><li>Without getting too far off the topic, the documentation suggests us to use another option <code>change origin</code> with the value <code>true</code> to avoid errors related to different Origins.</li><li>Now, if I&#x27;m going to make that same request on <code>/API/products</code>, I&#x27;m receiving the list of products.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="expanding-on-the-proxy">Expanding on the Proxy<a href="#expanding-on-the-proxy" class="hash-link" aria-label="Direct link to Expanding on the Proxy" title="Direct link to Expanding on the Proxy">​</a></h4><ul><li>But this time we can do even more.</li><li>For example, let&#x27;s use a different URL.</li><li>Let&#x27;s try to fetch a list of posts by using <code>/post</code> URL.</li><li>To do this, I simply have to change this segment to <code>post</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="custom-urls-and-response">Custom URLs and Response<a href="#custom-urls-and-response" class="hash-link" aria-label="Direct link to Custom URLs and Response" title="Direct link to Custom URLs and Response">​</a></h4><ul><li>As we can see, it has worked, and we got a list of posts in the response.</li><li>For now, we will only specify all configurations for the server under the server key in the configuration file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="overriding-configurations-for-preview-server">Overriding Configurations for Preview Server<a href="#overriding-configurations-for-preview-server" class="hash-link" aria-label="Direct link to Overriding Configurations for Preview Server" title="Direct link to Overriding Configurations for Preview Server">​</a></h4><ul><li>But we can also assign separate configurations for the preview server.</li><li>Let&#x27;s build this project for production by running <code>npm run build</code>.</li><li>Then run the preview server by executing <code>npm run preview</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="default-port-for-the-preview-server">Default Port for the Preview Server<a href="#default-port-for-the-preview-server" class="hash-link" aria-label="Direct link to Default Port for the Preview Server" title="Direct link to Default Port for the Preview Server">​</a></h4><ul><li>As we can see, the default Port of the preview server is 4173.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="overriding-preview-server-configurations">Overriding Preview Server Configurations<a href="#overriding-preview-server-configurations" class="hash-link" aria-label="Direct link to Overriding Preview Server Configurations" title="Direct link to Overriding Preview Server Configurations">​</a></h4><ul><li>Let&#x27;s just try to overwrite some configurations for the previous server.</li><li>For that, I&#x27;m going to copy over this object, paste it down here, and rename the <code>server</code> option to <code>server on preview</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="customizing-the-preview-server">Customizing the Preview Server<a href="#customizing-the-preview-server" class="hash-link" aria-label="Direct link to Customizing the Preview Server" title="Direct link to Customizing the Preview Server">​</a></h4><ul><li>This configuration will only be applicable for the preview server.</li><li>Let&#x27;s change something in this configuration.</li><li>For example, let&#x27;s use a different port, remove this <code>headers</code> object, and add another option called <code>open</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="specifying-a-custom-url">Specifying a Custom URL<a href="#specifying-a-custom-url" class="hash-link" aria-label="Direct link to Specifying a Custom URL" title="Direct link to Specifying a Custom URL">​</a></h4><ul><li>Here we can specify which address should be open in a browser by default after starting the preview server.</li><li>I&#x27;m going to specify our custom URL <code>/API/products</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="utilizing-proxy-configuration">Utilizing Proxy Configuration<a href="#utilizing-proxy-configuration" class="hash-link" aria-label="Direct link to Utilizing Proxy Configuration" title="Direct link to Utilizing Proxy Configuration">​</a></h4><ul><li>Just because we have previously configured proxy, a request was made to the following URL <code>/API/products</code>, and we get the list of products on the page.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="overriding-preview-server-configurations-1">Overriding Preview Server Configurations<a href="#overriding-preview-server-configurations-1" class="hash-link" aria-label="Direct link to Overriding Preview Server Configurations" title="Direct link to Overriding Preview Server Configurations">​</a></h4><ul><li>This is how we can override configurations for the preview server as well as for the development server.</li><li>In fact, there are many more configurations for configuring servers, and all of them are described in detail in the official vid documentation.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-hot-module-replacement-hmr"><strong>=&gt;</strong> Hot Module Replacement (HMR)<a href="#-hot-module-replacement-hmr" class="hash-link" aria-label="Direct link to -hot-module-replacement-hmr" title="Direct link to -hot-module-replacement-hmr">​</a></h3><ul><li>In one of the previous lessons, we have implemented the custom <code>with</code> plugin.</li><li>It allows us to import CSV files inside JavaScript modules.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="importing-csv-files">Importing CSV Files<a href="#importing-csv-files" class="hash-link" aria-label="Direct link to Importing CSV Files" title="Direct link to Importing CSV Files">​</a></h4><ul><li>Inside our main JavaScript file, we are importing the file <code>products.csv</code>.</li><li>The content of the CSV file will be transformed by our plugin and turned into an array of JavaScript objects.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-in-bit-configuration-file">Configuration in Bit Configuration File<a href="#configuration-in-bit-configuration-file" class="hash-link" aria-label="Direct link to Configuration in Bit Configuration File" title="Direct link to Configuration in Bit Configuration File">​</a></h4><ul><li>From the code point of view, it looks like this.</li><li>Inside the <code>bit</code> configuration file, we are including this plugin by calling Factory function <code>CSV</code>.</li><li>We import it from the <code>with</code> plugin CSV file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="plugin-implementation">Plugin Implementation<a href="#plugin-implementation" class="hash-link" aria-label="Direct link to Plugin Implementation" title="Direct link to Plugin Implementation">​</a></h4><ul><li>Let&#x27;s open up this file and take a look at the implementation.</li><li>Here, we&#x27;re basically using the hook called <code>transform</code>.</li><li>It will be called by Vite anytime we are going to import CSV files in ECMAScript modules.</li><li>We&#x27;re converting the raw content of the CSV file into a valid JavaScript array of objects by using this function <code>parse</code>.</li><li>At the end, we are returning a valid script module to the client.</li><li>It contains the data from the CSV file in the form of an array of JavaScript objects.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="content-of-productscsv-file">Content of <code>products.csv</code> File<a href="#content-of-productscsv-file" class="hash-link" aria-label="Direct link to content-of-productscsv-file" title="Direct link to content-of-productscsv-file">​</a></h4><ul><li>Here is how our <code>products.csv</code> file currently looks like.</li><li>We are importing it in our main JavaScript file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="injecting-content">Injecting Content<a href="#injecting-content" class="hash-link" aria-label="Direct link to Injecting Content" title="Direct link to Injecting Content">​</a></h4><ul><li>Then, we&#x27;re injecting the content that we have received after importing that CSV file into the pre-tech.</li><li>That&#x27;s why we&#x27;re seeing the content of the CSV file on this page.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="limitation-of-page-refresh">Limitation of Page Refresh<a href="#limitation-of-page-refresh" class="hash-link" aria-label="Direct link to Limitation of Page Refresh" title="Direct link to Limitation of Page Refresh">​</a></h4><ul><li>If we update the content of the CSV file, it will cause a full page refresh of the browser.</li><li>Let&#x27;s create an arbitrary constant <code>plugin</code> and see if this constant will still be available after we modify the CSV file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="modifying-productscsv">Modifying <code>products.csv</code><a href="#modifying-productscsv" class="hash-link" aria-label="Direct link to modifying-productscsv" title="Direct link to modifying-productscsv">​</a></h4><ul><li>Let&#x27;s make any modification to the content of the <code>products.csv</code> file.</li><li>For example, I&#x27;m going to add another row.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="checking-constant-availability">Checking Constant Availability<a href="#checking-constant-availability" class="hash-link" aria-label="Direct link to Checking Constant Availability" title="Direct link to Checking Constant Availability">​</a></h4><ul><li>In the browser, let&#x27;s see if the plugin constant is still available.</li><li>First of all, we see that the new line added to the CSV file appeared on this page.</li><li>However, the plugin constant is undefined because the browser has made a full page refresh to update the content on the page.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="implementing-hot-module-replacement">Implementing Hot Module Replacement<a href="#implementing-hot-module-replacement" class="hash-link" aria-label="Direct link to Implementing Hot Module Replacement" title="Direct link to Implementing Hot Module Replacement">​</a></h4><ul><li>Now, we&#x27;re going to implement support for so-called hot module replacement for our plugin.</li><li>This technique allows us to update modules that are modified without doing a full page refresh in the browser.</li><li>It&#x27;s called HMR, which stands for hot module replacement.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-handlehotupdate-hook">Using the <code>handleHotUpdate</code> Hook<a href="#using-the-handlehotupdate-hook" class="hash-link" aria-label="Direct link to using-the-handlehotupdate-hook" title="Direct link to using-the-handlehotupdate-hook">​</a></h4><ul><li>To implement hot module replacement for our plugin, we need to use another hook provided by Vite called <code>handle hot update</code>.</li><li>This hook will do a synchronous operation.</li><li>Let&#x27;s mark this function as an <code>async</code> function.</li><li>The first parameter into this function will pass a context object.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="condition-for-updates">Condition for Updates<a href="#condition-for-updates" class="hash-link" aria-label="Direct link to Condition for Updates" title="Direct link to Condition for Updates">​</a></h4><ul><li>We don&#x27;t need to listen for all updates but only for updates that happened to CSV files.</li><li>Let&#x27;s use the same condition we have used in the transform hook.</li><li>Check if the modification has been done to the CSV file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="websocket-connection">WebSocket Connection<a href="#websocket-connection" class="hash-link" aria-label="Direct link to WebSocket Connection" title="Direct link to WebSocket Connection">​</a></h4><ul><li>In order to implement hot module replacement, we need to leverage a WebSocket connection.</li><li>We&#x27;ll fire a custom event to the client using the <code>send</code> method on the WebSocket object.</li><li>We specify a custom configuration for this event.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="custom-event-configuration">Custom Event Configuration<a href="#custom-event-configuration" class="hash-link" aria-label="Direct link to Custom Event Configuration" title="Direct link to Custom Event Configuration">​</a></h4><ul><li>Let&#x27;s specify the type, which will be a custom event name, <code>CSV-Update</code>.</li><li>We can use any kind of name we like.</li><li>Later, we&#x27;re going to listen to this event in the client code.</li><li>We also have to specify the <code>data</code> key.</li><li>This key will store the content that we&#x27;re going to send to the client.</li><li>For now, let&#x27;s read the content of the updated CSV file by calling the <code>read</code> method on the context object.</li><li>Since this method is asynchronous, we have to <code>await</code> the response and then assign it to the <code>data</code> property.</li><li>Right after that, we need to notify Vite that we are going to take care of hot module replacement ourselves.</li><li>We do this by simply returning an empty array from this method.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="testing-hot-module-replacement">Testing Hot Module Replacement<a href="#testing-hot-module-replacement" class="hash-link" aria-label="Direct link to Testing Hot Module Replacement" title="Direct link to Testing Hot Module Replacement">​</a></h4><ul><li>Let&#x27;s try it out one more time and check if the constant that we&#x27;re going to declare will be available even after we modify the <code>CSV</code> file.</li><li>I&#x27;m going to remove the last line of the CSV file and check if the plugin constant is still available.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="verifying-hot-module-replacement">Verifying Hot Module Replacement<a href="#verifying-hot-module-replacement" class="hash-link" aria-label="Direct link to Verifying Hot Module Replacement" title="Direct link to Verifying Hot Module Replacement">​</a></h4><ul><li>As we can see, it is still defined.</li><li>That means the browser hasn&#x27;t reloaded the page.</li><li>We also haven&#x27;t seen any changes to the content on the page because we are currently not listening to the custom event that we are firing from the server.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="listening-for-custom-event">Listening for Custom Event<a href="#listening-for-custom-event" class="hash-link" aria-label="Direct link to Listening for Custom Event" title="Direct link to Listening for Custom Event">​</a></h4><ul><li>This was the first part of implementing the hot module replacement, which is firing an event from the server to the client.</li><li>The next part is to actually listen for this event on the client side.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="client-side-implementation">Client-Side Implementation<a href="#client-side-implementation" class="hash-link" aria-label="Direct link to Client-Side Implementation" title="Direct link to Client-Side Implementation">​</a></h4><ul><li>I&#x27;m going to switch over to the client script.</li><li>First of all, let&#x27;s check if the object responsible for hot module replacement exists.</li><li>This object is stored on the <code>meta</code> property of an <code>import</code> object.</li><li>If it exists, we&#x27;re going to register a listener for the custom event we specified on the server with the name <code>CSV-Update</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="receiving-data">Receiving Data<a href="#receiving-data" class="hash-link" aria-label="Direct link to Receiving Data" title="Direct link to Receiving Data">​</a></h4><ul><li>As a second argument to your function, we have to pass a closure with one parameter.</li><li>This parameter will store the data we specified under the <code>data</code> key while sending this event.</li><li>Let&#x27;s check what we&#x27;re going to receive in this data parameter.</li><li>I&#x27;m going to print it out in the console.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="testing-data-reception">Testing Data Reception<a href="#testing-data-reception" class="hash-link" aria-label="Direct link to Testing Data Reception" title="Direct link to Testing Data Reception">​</a></h4><ul><li>As we can see, I have three products in my CSV file.</li><li>Let&#x27;s go there and change the content.</li><li>After that, in the browser, we can see that the console shows the new content of the CSV file, including our latest product edition.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="updating-content-on-the-page">Updating Content on the Page<a href="#updating-content-on-the-page" class="hash-link" aria-label="Direct link to Updating Content on the Page" title="Direct link to Updating Content on the Page">​</a></h4><ul><li>Now, we&#x27;re going to get two updates on the actual page because after the CSV file is modified, we need to properly change the content on the page.</li><li>In our client script, I&#x27;m going to copy this line and paste it into this handler.</li><li>Anytime we&#x27;re going to receive the new content from the server, we&#x27;re going to update the content of the pre-tech by assigning the updated content.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="transforming-csv-content">Transforming CSV Content<a href="#transforming-csv-content" class="hash-link" aria-label="Direct link to Transforming CSV Content" title="Direct link to Transforming CSV Content">​</a></h4><ul><li>But currently, this content will be passed as the raw content of the CSV file.</li><li>What we need to do instead in our plugin is to transform CSV content into JavaScript array by calling the function <code>parse</code>.</li><li>Just like we have done in the <code>transform</code> hook.</li><li>Let&#x27;s wrap the content of the CSV file in the <code>parse</code> function call.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="successful-hot-module-replacement">Successful Hot Module Replacement<a href="#successful-hot-module-replacement" class="hash-link" aria-label="Direct link to Successful Hot Module Replacement" title="Direct link to Successful Hot Module Replacement">​</a></h4><ul><li>Initially, I have four products in my CSV file.</li><li>Let&#x27;s remove the last product from here and see how it will be reflected in the browser.</li><li>As you can see, the content was changed.</li><li>Now,</li></ul><p>instead of four products, I have only three, which corresponds to the latest content of the CSV file.</p><ul><li>Our hot module replacement worked.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="adding-structured-data">Adding Structured Data<a href="#adding-structured-data" class="hash-link" aria-label="Direct link to Adding Structured Data" title="Direct link to Adding Structured Data">​</a></h4><ul><li>Now, as soon as I do any kind of modifications to the CSV file, I&#x27;m going to see those changes reflected on the page.</li><li>We can also do one little improvement to our plugin by passing structured data to the client.</li><li>I&#x27;m going to send an object with two properties.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="sending-module-update-info">Sending Module Update Info<a href="#sending-module-update-info" class="hash-link" aria-label="Direct link to Sending Module Update Info" title="Direct link to Sending Module Update Info">​</a></h4><ul><li>The first property will be <code>URL</code>, and the second one, <code>data</code>.</li><li><code>URL</code> will store the path to the module that was updated.</li><li><code>data</code> will store the new transformed content of the updated module.</li><li>Let&#x27;s add a more descriptive message on the client side in the console.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="data-destructuring">Data Destructuring<a href="#data-destructuring" class="hash-link" aria-label="Direct link to Data Destructuring" title="Direct link to Data Destructuring">​</a></h4><ul><li>Here, we have to destructure two properties, <code>URL</code> and <code>data</code>.</li><li>These are the two properties we have specified in the source code of our plugin.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="verifying-structured-data">Verifying Structured Data<a href="#verifying-structured-data" class="hash-link" aria-label="Direct link to Verifying Structured Data" title="Direct link to Verifying Structured Data">​</a></h4><ul><li><p>Let&#x27;s check it out one more time in the browser.</p></li><li><p>We&#x27;ll create a constant <code>plugin</code>, and if this constant is available, it&#x27;s a sign that the browser hasn&#x27;t done a full page refresh.</p></li><li><p>After modifying the content of the <code>products.csv</code> file, we can see that it was reflected on the page.</p></li><li><p>We also see the new log which shows the paths to the file that was updated.</p></li><li><p>And, of course, the constant <code>plugin</code> is still available.</p></li><li><p>Our hot module replacement for CSV files works great.</p></li><li><p>This is how we can implement hot module replacement in Vite projects by using the <code>handle hot update</code> function in our plugin.</p></li><li><p>Then, sending a custom event via WebSocket to the client with an appropriate payload.</p></li><li><p>On the client side, we register the listener for this event, receive updated data, and apply hot module replacement updates.</p></li><li><p>This was one of the ways to implement hot module replacement indeed.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-client-server-communication"><strong>=&gt;</strong> Client-server Communication<a href="#-client-server-communication" class="hash-link" aria-label="Direct link to -client-server-communication" title="Direct link to -client-server-communication">​</a></h3><ul><li>Now, let&#x27;s see how it allows us to establish client-server communication.</li><li>Just like in the previous lesson when we were using the hook <code>handle hot update</code> to implement hot module replacement feature for our plugin.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-websocket-object">Using WebSocket Object<a href="#using-websocket-object" class="hash-link" aria-label="Direct link to Using WebSocket Object" title="Direct link to Using WebSocket Object">​</a></h4><ul><li>In here, we were using the <code>WebSocket</code> object to send events to the client.</li><li>And then, we also had a chance to specify which data exactly should be sent along with this event.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="registering-listener-in-client-script">Registering Listener in Client Script<a href="#registering-listener-in-client-script" class="hash-link" aria-label="Direct link to Registering Listener in Client Script" title="Direct link to Registering Listener in Client Script">​</a></h4><ul><li>In our client script, we have registered a listener for this event.</li><li>We accept the data received from the server.</li><li>And then, we were able to do anything we want with this data to implement hot module replacement.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-configureserver-hook">Using the <code>configureServer</code> Hook<a href="#using-the-configureserver-hook" class="hash-link" aria-label="Direct link to using-the-configureserver-hook" title="Direct link to using-the-configureserver-hook">​</a></h4><ul><li>Besides using the hook <code>handle hot update</code>, which will be called only when any module that we are importing in JavaScript files will be changed.</li><li>We can use another hook that allows us to configure the server.</li><li>This hook is called <code>configureServer</code>.</li><li>It accepts a server instance as the first parameter.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-websocket-connection">Accessing WebSocket Connection<a href="#accessing-websocket-connection" class="hash-link" aria-label="Direct link to Accessing WebSocket Connection" title="Direct link to Accessing WebSocket Connection">​</a></h4><ul><li>By using this <code>server</code> object, we can also access the WebSocket connection.</li><li>Just like previously, we can set up a listener for all kinds of events.</li><li>For example, there is a default event called <code>connection</code>.</li><li>It will be fired whenever our WebSocket connection will be established.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="listening-for-the-connection-event">Listening for the <code>connection</code> Event<a href="#listening-for-the-connection-event" class="hash-link" aria-label="Direct link to listening-for-the-connection-event" title="Direct link to listening-for-the-connection-event">​</a></h4><ul><li>So, we can try listening for this event.</li><li>And once we establish a WebSocket connection, let&#x27;s send an event to the client with the name <code>connected</code>.</li><li>As a payload, we can send a simple message, &quot;Connection established.&quot;</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="registering-listener-in-client-code">Registering Listener in Client Code<a href="#registering-listener-in-client-code" class="hash-link" aria-label="Direct link to Registering Listener in Client Code" title="Direct link to Registering Listener in Client Code">​</a></h4><ul><li>To be able to listen for this event from the client code, we have to register a listener by using an object called <code>hot</code>.</li><li>Here, we also call the method called <code>on</code>.</li><li>As the first parameter, we have to specify the event name that we will be listening for.</li><li>In the second parameter, we specify the closure, which will be our event handler.</li><li>So, the closure is going to receive the payload sent from the server along with this event.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="testing-the-communication">Testing the Communication<a href="#testing-the-communication" class="hash-link" aria-label="Direct link to Testing the Communication" title="Direct link to Testing the Communication">​</a></h4><ul><li>Now, let&#x27;s see what will be printed in a console.</li><li>I&#x27;m going to switch over to the browser.</li><li>As we can see in here, we have that message sent from the server.</li><li>Once the WebSocket connection was established.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exchanging-messages">Exchanging Messages<a href="#exchanging-messages" class="hash-link" aria-label="Direct link to Exchanging Messages" title="Direct link to Exchanging Messages">​</a></h4><ul><li>This way, we can exchange messages between the server and the client.</li><li>For example, let&#x27;s fire another event as a response to the server with the name <code>pin</code>.</li><li>And the payload will also be a simple message, &quot;Hello, server.&quot;</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="handling-the-pin-event">Handling the <code>pin</code> Event<a href="#handling-the-pin-event" class="hash-link" aria-label="Direct link to handling-the-pin-event" title="Direct link to handling-the-pin-event">​</a></h4><ul><li>Going back to our plugin implementation inside the <code>configureServer</code> hook, let&#x27;s register another listener for the <code>pin</code> event.</li><li>And specify an event handler this time.</li><li>The event handler is going to receive two parameters.</li><li>The first one will be the payload sent from the client.</li><li>The second parameter will be the client itself, in other words, the object that represents the connection.</li><li>Inside of the closure, we will be able to use this object to send events to the client.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="sending-response-to-client">Sending Response to Client<a href="#sending-response-to-client" class="hash-link" aria-label="Direct link to Sending Response to Client" title="Direct link to Sending Response to Client">​</a></h4><ul><li>As a response, let&#x27;s send an event with the name and the message, &quot;Hello, client.&quot;</li><li>Now, one more time, let&#x27;s switch over to our client script.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="listening-for-the-pin-event">Listening for the <code>pin</code> Event<a href="#listening-for-the-pin-event" class="hash-link" aria-label="Direct link to listening-for-the-pin-event" title="Direct link to listening-for-the-pin-event">​</a></h4><ul><li>Register a listener for <code>pin</code> by using that same <code>hot</code> object as an event handler.</li><li>Let&#x27;s specify the closure, which will receive the payload as the first argument and print this payload in a console.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="verifying-the-communication">Verifying the Communication<a href="#verifying-the-communication" class="hash-link" aria-label="Direct link to Verifying the Communication" title="Direct link to Verifying the Communication">​</a></h4><ul><li>So now, in the browser console, we can see two messages.</li><li>The first one was printed once the WebSocket connection was established.</li><li>Because previously, on the server side in our plugin implementation code, we have registered a listener for the <code>connection</code> event.</li><li>As soon as the WebSocket connection was established, we send the event called <code>connected</code> to the server with the message, &quot;Connection established.&quot;</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bidirectional-communication">Bidirectional Communication<a href="#bidirectional-communication" class="hash-link" aria-label="Direct link to Bidirectional Communication" title="Direct link to Bidirectional Communication">​</a></h4><ul><li>And then the client has received this event and printed that message in a console.</li><li>To reply back to the server, the client sends another event with the name <code>pin</code> and the message, &quot;Hello, server.&quot;</li><li>On the server side, we have registered a listener for the event <code>pin</code> and also printed the message which will come from the client in the server console.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="handling-communication-in-both-directions">Handling Communication in Both Directions<a href="#handling-communication-in-both-directions" class="hash-link" aria-label="Direct link to Handling Communication in Both Directions" title="Direct link to Handling Communication in Both Directions">​</a></h4><ul><li>Now, if we&#x27;re going to take a look at the server console.</li><li>We&#x27;re going to see here that message received from the client, &quot;Hello, server.&quot;</li><li>And finally, besides printing this message in a console, we&#x27;re also firing another event to the client with the message, &quot;Hello, client.&quot;</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="confirming-object-availability">Confirming Object Availability<a href="#confirming-object-availability" class="hash-link" aria-label="Direct link to Confirming Object Availability" title="Direct link to Confirming Object Availability">​</a></h4><ul><li>In our client script, we are basically listening for this event.</li><li>And printing the received message in the browser console.</li><li>That&#x27;s why we&#x27;re seeing a second log that says, &quot;Hello, client,&quot; received from the server.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conditional-code-execution">Conditional Code Execution<a href="#conditional-code-execution" class="hash-link" aria-label="Direct link to Conditional Code Execution" title="Direct link to Conditional Code Execution">​</a></h4><ul><li>By the way, all those listeners and code that we have used in here.</li><li>This code will be executed only if an object <code>hot</code> will be available.</li><li>Because we have wrapped everything in an <code>if</code> conditional.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="availability-in-development-mode">Availability in Development Mode<a href="#availability-in-development-mode" class="hash-link" aria-label="Direct link to Availability in Development Mode" title="Direct link to Availability in Development Mode">​</a></h4><ul><li>The thing is that this object <code>hot</code> will be available only during development.</li><li>So, we are going to build this project for production by running <code>npm run build</code>.</li><li>This <code>hot</code> object will not be available.</li><li>So, all this code will be basically removed from the production bundle using tree shaking.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="verifying-code-removal">Verifying Code Removal<a href="#verifying-code-removal" class="hash-link" aria-label="Direct link to Verifying Code Removal" title="Direct link to Verifying Code Removal">​</a></h4><ul><li>At the end, let&#x27;s just make sure that this is the case.</li><li>I&#x27;m going to print out a simple message here just to see that this code will be executed.</li><li>Indeed, we are seeing that log in the browser console along with other logs.</li><li>Because currently, I&#x27;m running the development server.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="production-build">Production Build<a href="#production-build" class="hash-link" aria-label="Direct link to Production Build" title="Direct link to Production Build">​</a></h4><ul><li>But once I&#x27;m going to switch over to the console and run the command to build this project for production.</li><li>And then run the production build in the browser by executing <code>npm run preview</code>.</li><li>Sure enough, I&#x27;m not going to see any logs whatsoever.</li><li>This is because the conditional block we&#x27;re checking if the <code>hot</code> object is present has not been executed.</li><li>Since the <code>hot</code> object is not available in the production build.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="websocket-communication">WebSocket Communication<a href="#websocket-communication" class="hash-link" aria-label="Direct link to WebSocket Communication" title="Direct link to WebSocket Communication">​</a></h4><ul><li>This is how we can exchange messages between our plugins and client code by using the WebSocket connection provided by Vite.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-accepting-hot-updates"><strong>=&gt;</strong> Accepting hot updates<a href="#-accepting-hot-updates" class="hash-link" aria-label="Direct link to -accepting-hot-updates" title="Direct link to -accepting-hot-updates">​</a></h3><ul><li>In one of the previous lessons, we have implemented hot module replacement for CSV modules.</li><li>The way we have done this is by using the <code>handle hot update</code> hook inside of our plugin implementation.</li><li>So in here, whenever that CSV file will be modified, we will fire an event via the WebSocket connection to the client.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="preparation">Preparation<a href="#preparation" class="hash-link" aria-label="Direct link to Preparation" title="Direct link to Preparation">​</a></h4><ul><li>And before getting to implementing hot module replacement for JavaScript files, let&#x27;s do a little preparation.</li><li>I&#x27;m going to create a new JavaScript module in the root of the project.</li><li>Let&#x27;s call this file <code>module.js</code>.</li><li>Here, let&#x27;s add some dummy code, for example, let&#x27;s export a constant with the name <code>message</code> and a random string.</li><li>Also, let&#x27;s add one more export which will be a default export with a random string.</li><li>And now, we&#x27;re going to use HMR API to implement hot module replacement.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conditional-code-for-hmr">Conditional Code for HMR<a href="#conditional-code-for-hmr" class="hash-link" aria-label="Direct link to Conditional Code for HMR" title="Direct link to Conditional Code for HMR">​</a></h4><ul><li>All the code which we will need for hot module replacement, we&#x27;re going to wrap in an if conditional.</li><li>And check if the <code>hot</code> object is present.</li><li>Then we&#x27;re going to implement HMR so that we could properly remove this code when doing production builds since we don&#x27;t need to provide HMR during production.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-accept-method">Using the <code>accept</code> Method<a href="#using-the-accept-method" class="hash-link" aria-label="Direct link to using-the-accept-method" title="Direct link to using-the-accept-method">​</a></h4><ul><li>In order to implement hot module replacement for this specific module, we can leverage the <code>accept</code> method on the <code>hot</code> object.</li><li>This method accepts a closure, which, in turn, accepts one parameter, which will be the updated content of this module.</li><li>Let&#x27;s call this parameter <code>updatedModule</code>.</li><li>And then, print out this variable in the browser console.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="testing-hot-module-replacement-1">Testing Hot Module Replacement<a href="#testing-hot-module-replacement-1" class="hash-link" aria-label="Direct link to Testing Hot Module Replacement" title="Direct link to Testing Hot Module Replacement">​</a></h4><ul><li>Just to see it in action, we, of course, have to go back to our main JavaScript file.</li><li>And write an import statement to import our new module.</li><li>Regarding all other code, we actually don&#x27;t need any of that, so let&#x27;s comment everything out besides our <code>import</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="checking-the-behavior">Checking the Behavior<a href="#checking-the-behavior" class="hash-link" aria-label="Direct link to Checking the Behavior" title="Direct link to Checking the Behavior">​</a></h4><ul><li>And now, let&#x27;s see what is going to happen as soon as I&#x27;m going to modify the file <code>module.js</code>.</li><li>For example, let&#x27;s change this string.</li><li>And in the browser console, I&#x27;m seeing a different log which was just modified because after updating this file, this module was executed again.</li><li>And then, we also got this log which contains updated content of this module in the form of an object.</li><li>So here we can see a default export of this module as well as the name and the export of the constant <code>message</code>.</li><li>And this log was printed by using a closure that we have passed into the <code>accept</code> method.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="handling-updates-without-accept">Handling Updates Without <code>accept</code><a href="#handling-updates-without-accept" class="hash-link" aria-label="Direct link to handling-updates-without-accept" title="Direct link to handling-updates-without-accept">​</a></h4><ul><li>So now if I&#x27;m going to modify the value of the <code>message</code> constant, for example, right away I&#x27;m seeing the new log in the browser.</li><li>And this time the constant <code>message</code> contains the new value that we have just updated.</li><li>Anytime we&#x27;re going to modify <code>module.js</code> file, we&#x27;re going to see here a new log with the updated content of that file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="handling-full-page-refresh">Handling Full Page Refresh<a href="#handling-full-page-refresh" class="hash-link" aria-label="Direct link to Handling Full Page Refresh" title="Direct link to Handling Full Page Refresh">​</a></h4><ul><li>By the way, all this is happening without full page refreshes.</li><li>But what if I&#x27;m not going to use <code>accept</code> in this module?</li><li>Let&#x27;s test it out, let&#x27;s comment out this part.</li><li>In the browser, I&#x27;m only seeing one log, which was printed on the initial page load.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="no-hmr-without-accept">No HMR without <code>accept</code><a href="#no-hmr-without-accept" class="hash-link" aria-label="Direct link to no-hmr-without-accept" title="Direct link to no-hmr-without-accept">​</a></h4><ul><li>But after I&#x27;m going to modify the file <code>module.js</code>, in the console, we can see only the new log without all previous outputs.</li><li>And that is because the browser has made a full page refresh.</li><li>So in this case, there is no hot module replacement.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="restoring-accept">Restoring <code>accept</code><a href="#restoring-accept" class="hash-link" aria-label="Direct link to restoring-accept" title="Direct link to restoring-accept">​</a></h4><ul><li>And again, if I&#x27;m going to go back to the editor and uncomment this code back in, then initially here I&#x27;m seeing only one log from the <code>module.js</code>.</li><li>And after I&#x27;m going to modify this file, we&#x27;re still going to see the old log as well as the new output.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="handling-errors">Handling Errors<a href="#handling-errors" class="hash-link" aria-label="Direct link to Handling Errors" title="Direct link to Handling Errors">​</a></h4><ul><li>And in addition to that, we got an object that contains the updated data of the module.</li><li>And by the way, if we&#x27;re going to make any syntax errors in our modules, then that log, which is responsible for showing updated content of the module, will print <code>undefined</code> instead.</li><li>So if you&#x27;re planning to use this object in a closure, it&#x27;s necessary to firstly check if the received value actually exists.</li><li>So we&#x27;re going to wrap this part in an if conditional.</li><li>Now, if we&#x27;re going to make any syntax errors in our modules, it will prevent us from potential crashes.</li><li>And it&#x27;s actually good to do these kinds of checks most of the time.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring-multiple-modules">Monitoring Multiple Modules<a href="#monitoring-multiple-modules" class="hash-link" aria-label="Direct link to Monitoring Multiple Modules" title="Direct link to Monitoring Multiple Modules">​</a></h4><ul><li>Let&#x27;s consider another example</li></ul><p>.</p><ul><li>So what if my <code>module.js</code> is going to import another module?</li><li>Let&#x27;s emulate this situation.</li><li>Let&#x27;s create a new file and call it <code>submodule.js</code>.</li><li>This module is going to have only one default export of a random string.</li><li>And then, we&#x27;re going to import this module from within <code>module.js</code>.</li><li>And now, let&#x27;s say we want to monitor our changes in all those modules we are importing in this module.</li><li>So, for example, I want to run some code anytime the module <code>submodule.js</code> will change.</li><li>So in here, I&#x27;m going to use another call to <code>accept</code>, which in this case will have a different shape.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring-specific-modules">Monitoring Specific Modules<a href="#monitoring-specific-modules" class="hash-link" aria-label="Direct link to Monitoring Specific Modules" title="Direct link to Monitoring Specific Modules">​</a></h4><ul><li>As the first parameter, we can provide an array which consists of all those inputs we&#x27;d like to monitor changes in.</li><li>So, for example, in here, I&#x27;m going to watch the file called <code>submodule.js</code>.</li><li>So I&#x27;m going to include this name in here.</li><li>Then in the closure, we are going to receive an updated content of every module that we are monitoring.</li><li>Since in this case, I&#x27;m monitoring only one module, I&#x27;m going to destructure this parameter and extract only the content of this submodule file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="testing-multiple-modules">Testing Multiple Modules<a href="#testing-multiple-modules" class="hash-link" aria-label="Direct link to Testing Multiple Modules" title="Direct link to Testing Multiple Modules">​</a></h4><ul><li>Eventually, let&#x27;s see what will be contained in this new <code>submodule</code> variable.</li><li>Which is supposed to give us updated content of the submodule.</li><li>In the browser, I can see the log from <code>submodule.js</code> again because after modifying this file, it was executed in the browser one more time.</li><li>And then, I&#x27;m seeing another log, which contains the updated content of the modified <code>submodule.js</code> file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="errors-and-fixes">Errors and Fixes<a href="#errors-and-fixes" class="hash-link" aria-label="Direct link to Errors and Fixes" title="Direct link to Errors and Fixes">​</a></h4><ul><li>And that is because in our parent module, which is called <code>module.js</code>, we have registered this listener which monitors for changes inside <code>submodule.js</code> file.</li><li>And when a change occurs, it is going to print the updated data of this submodule in the form of an object.</li><li>And if I&#x27;m going to make a mistake in the submodule name, and then we&#x27;ll do any modifications to this submodule, then in the browser, I&#x27;m still going to see the log, but this log comes from a different place.</li><li>It is actually this part of code which prints that log entry.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixing-the-name">Fixing the Name<a href="#fixing-the-name" class="hash-link" aria-label="Direct link to Fixing the Name" title="Direct link to Fixing the Name">​</a></h4><ul><li>So just to make it all clear, let&#x27;s comment out this part.</li><li>And modify <code>submodule.js</code> once again.</li><li>And as we can see, after the modification, there are no extra logs in the console.</li><li>Because we are no longer listening for changes in the submodule.</li><li>So let&#x27;s go back to <code>module.js</code> and fix that mistake in this name, <code>submodule.js</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="correct-behavior">Correct Behavior<a href="#correct-behavior" class="hash-link" aria-label="Direct link to Correct Behavior" title="Direct link to Correct Behavior">​</a></h4><ul><li>And one more time, if I&#x27;m going to go ahead and modify the file <code>submodule.js</code>, sure enough, in the console, we&#x27;re going to see a new log in line with the updated content of the <code>submodule.js</code> file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="leveraging-accept-for-hmr">Leveraging <code>accept</code> for HMR<a href="#leveraging-accept-for-hmr" class="hash-link" aria-label="Direct link to leveraging-accept-for-hmr" title="Direct link to leveraging-accept-for-hmr">​</a></h4><ul><li>And by the way, if we&#x27;re going to make any syntax errors in our modules, it will prevent us from potential crashes.</li><li>And it&#x27;s actually good to do these kinds of checks most of the time.</li><li>So let&#x27;s add the same conditional to this closure.</li><li>This is how we can leverage the <code>accept</code> method on the <code>hot</code> object to implement hot module replacement for specific JavaScript modules.</li><li>Let&#x27;s keep learning a bit in the next lesson.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-disposing-hot-updates"><strong>=&gt;</strong> Disposing hot updates<a href="#-disposing-hot-updates" class="hash-link" aria-label="Direct link to -disposing-hot-updates" title="Direct link to -disposing-hot-updates">​</a></h3><ul><li>So by now, we already know how we can accept HMR updates by using the <code>accept</code> method and apply them to our page.</li><li>This <code>accept</code> method has a few signatures.<ul><li>The first one allows us to accept updates of the model itself.</li><li>The other signature allows us to accept updates from dependencies of this module.</li><li>In other words, from those modules that are imported in this module.</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="side-effects-of-updates">Side Effects of Updates<a href="#side-effects-of-updates" class="hash-link" aria-label="Direct link to Side Effects of Updates" title="Direct link to Side Effects of Updates">​</a></h4><ul><li>Sometimes, when modules are updated and updates are applied in a browser, those updates might also leave some kind of side effects.</li><li>For example, those updates might modify the DOM structure or change some data in local storage of the browser.</li><li>Even a simple console log statement can also be considered a side effect.</li><li>Sometimes, before applying updates of the module in a browser, we need to run some kind of code which would clean up those side effects left from previous executions of this module.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h4><ul><li>It might sound complicated, but in fact, it is really simple.</li><li>Let&#x27;s consider one example.</li><li>I&#x27;m going to create a variable <code>Styles</code>.</li><li>Then let&#x27;s declare the function <code>addStyleSheet</code>, which is basically going to add styles into the <code>head</code> element on the page.</li><li>In here, I&#x27;m going to use the DOM API to create a DOM element, which corresponds to the style tag.</li><li>We&#x27;re going to assign arbitrary styles to the <code>innerHTML</code> property.<ul><li>For example, let&#x27;s make the background color of the body Indigo and text color white.</li></ul></li><li>Then all we have to do is append this style element to the <code>head</code> element using the <code>appendChild</code> method.</li><li>Of course, to apply these changes, we have to execute this function once the current module is loaded in the browser.<ul><li>So let&#x27;s call the function <code>addStyleSheet</code> right here.</li></ul></li><li>Also, let&#x27;s open up <code>index.html</code>, and in here, we&#x27;ll add an <code>H1</code> element.<ul><li>So in the browser, we see that those styles were applied.</li></ul></li><li>If we take a look at the <code>head</code> element, we can see the style element that we have just added.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="handling-side-effects">Handling Side Effects<a href="#handling-side-effects" class="hash-link" aria-label="Direct link to Handling Side Effects" title="Direct link to Handling Side Effects">​</a></h4><ul><li>So far, it looks good, but what is going to happen if we&#x27;re going to modify the styles in any way?</li><li>For example, let&#x27;s change the color to yellow.</li><li>Take a look in the browser.<ul><li>The color was properly applied to the page by using hot module replacement.</li></ul></li><li>But if we take a look at the DOM structure, we have two style elements.</li><li>The previous style element was not removed, and the new one was just added.</li><li>The previous execution of this module has left a side effect in the DOM by adding a style element.</li><li>But right after we have updated those styles, the previous style tag was not removed.</li><li>It produced a so-called side effect.</li><li>We didn&#x27;t clean up that side effect before applying new updates.</li><li>As a result, any time we make changes to our module, a new style element is appended to the <code>head</code> element.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cleaning-up-side-effects">Cleaning Up Side Effects<a href="#cleaning-up-side-effects" class="hash-link" aria-label="Direct link to Cleaning Up Side Effects" title="Direct link to Cleaning Up Side Effects">​</a></h4><ul><li>Now let&#x27;s see how we can clean up after ourselves.</li><li>Any time we modify this module, the previous style tag will be removed, and the new one will be appended.</li><li>For that, let&#x27;s create a new function called <code>removeStyleSheet</code>.</li><li>All this function is going to do is basically remove the styles DOM element by calling the <code>remove</code> method.</li><li>The question is, where do we actually need to call this function <code>removeStyleSheet</code>?</li><li>Since this function has to be executed right before we receive new HMR updates, Webpack provides us with another method called <code>dispose</code>.</li><li>We also call it on the <code>hot</code> object.</li><li>The closure passed into this method should execute all necessary cleanup code to get rid of previous side effects.<ul><li>This is exactly the place where we can call our function <code>removeStyleSheet</code> to remove the styles DOM element.</li></ul></li><li>Now, before going back to the browser, let&#x27;s reset these styles as they were initially.</li><li>Also, do a full page refresh to have only one style element on the page.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cleaning-up-side-effects---continued">Cleaning Up Side Effects - Continued<a href="#cleaning-up-side-effects---continued" class="hash-link" aria-label="Direct link to Cleaning Up Side Effects - Continued" title="Direct link to Cleaning Up Side Effects - Continued">​</a></h4><ul><li>Now, after I&#x27;m going to modify this module in the browser, what we will actually see is that before appending updated styles onto the page, the previous style element was removed.</li><li>Because the function <code>removeStyleSheet</code> was executed inside of a closure of the <code>dispose</code> method, which cleaned up our previous side effect before appending the new element.</li><li>Just to see at what time those functions are executed, let&#x27;s place arbitrary console log statements into the <code>addStyleSheet</code> and <code>removeStyleSheet</code> functions.</li><li>On the initial page load, our module was executed and called the <code>addStyleSheet</code> function.<ul><li>Therefore, new styles were applied to the page.</li></ul></li><li>After any subsequent modifications of this module, we&#x27;re going to see that before applying new updates, our function <code>removeStyleSheet</code> was executed.<ul><li>Thanks to the <code>dispose</code> method that we have called on the <code>hot</code> object.</li><li>The previous styles were removed, and then the new styles were added.</li><li>This way, we end up with only one style element on the page.</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cleaning-up-side-effects---conclusion">Cleaning Up Side Effects - Conclusion<a href="#cleaning-up-side-effects---conclusion" class="hash-link" aria-label="Direct link to Cleaning Up Side Effects - Conclusion" title="Direct link to Cleaning Up Side Effects - Conclusion">​</a></h4><ul><li>Let&#x27;s go back to the editor and remove these two console log statements.</li><li>So, by now, we know how we can accept hot module updates by using the <code>accept</code> method.</li><li>We also know how to remove any side effects before applying new updates by using the <code>dispose</code> function.</li><li>Now, a couple of words about standard Webpack events that we can listen to.</li><li>There are several events that we can listen to, and all of them are shown on this documentation page.</li><li>For demonstration purposes, let&#x27;s register listeners for some of these events.<ul><li>As the first parameter, we have to specify an event name.<ul><li>I&#x27;m going to use the &quot;before update&quot; event.</li></ul></li><li>As the second parameter, we&#x27;re passing the handler, which is going to take some data received from the server.<ul><li>Let&#x27;s just print out this data in the console.</li></ul></li><li>Duplicate this piece of code a couple more times to register listeners for other events.<ul><li>Such as for &quot;after update&quot; and for the &quot;error&quot; event.</li></ul></li><li>Just to make it clear which console log statement corresponds to which listener, I&#x27;m going to add labels.<ul><li>&quot;before update,&quot; &quot;after update,&quot; and &quot;error.&quot;</li></ul></li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="event-handling">Event Handling<a href="#event-handling" class="hash-link" aria-label="Direct link to Event Handling" title="Direct link to Event Handling">​</a></h4><ul><li>Initially, there are no logs that came from those listeners because none of those events were fired on the initial page load.</li><li>They will be fired once we modify the module.</li><li>So, let&#x27;s do just that.</li><li>I&#x27;m going to go ahead and change the color of the background.</li><li>In the browser, we can see that firstly, we have received the log which came from the &quot;before update&quot; event listener.<ul><li>With some metadata about the module, which was updated, when it was updated, and the best guess to this module.</li><li>This log was printed right before we applied the HMR update.</li></ul></li><li>The &quot;after update&quot; log was printed after we applied the HMR updates.<ul><li>This event handler also received the same object, which describes the module that was</li></ul></li></ul><p>updated.</p><ul><li>To trigger the error event, we had to make a syntax error in this module.</li><li>In the console, we&#x27;re going to see that the error was printed, which means the error handler was executed.<ul><li>The data that we received in here contains the full description of the error.</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-14">Conclusion<a href="#conclusion-14" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h4><ul><li>By the way, the same error was displayed right here.</li><li>This is how we can leverage those default events to hook into the HMR process and execute particular code at different stages of HMR updates.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-vue-integration"><strong>=&gt;</strong> Vue integration<a href="#-vue-integration" class="hash-link" aria-label="Direct link to -vue-integration" title="Direct link to -vue-integration">​</a></h3><ul><li>In this lesson, we&#x27;re going to take a look at how we can integrate the <code>framework view</code> in a <code>vid</code> project.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-the-project">Setting Up the Project<a href="#setting-up-the-project" class="hash-link" aria-label="Direct link to Setting Up the Project" title="Direct link to Setting Up the Project">​</a></h4><ul><li>I have already scaffolded a default <code>vid</code> project.</li><li>Let&#x27;s start the development server by running <code>npm runev</code>.</li><li>By the way, while scaffolding a new <code>vid</code> project, there is a special command that we can use.<ul><li>It will basically scaffold a <code>vid</code> project with the <code>view</code> framework already integrated.</li><li>But just to better understand this whole process and to see what is going on under the hood, we&#x27;re going to do this manually.</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="installing-dependencies">Installing Dependencies<a href="#installing-dependencies" class="hash-link" aria-label="Direct link to Installing Dependencies" title="Direct link to Installing Dependencies">​</a></h4><ul><li>The first thing we need to do is, of course, install all necessary npm dependencies.</li><li>We need <code>framework view</code> itself and <code>vid</code> plugin, which will allow us to convert files with an extension <code>.view</code> into JavaScript code.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-vid-and-view">Configuring <code>vid</code> and <code>view</code><a href="#configuring-vid-and-view" class="hash-link" aria-label="Direct link to configuring-vid-and-view" title="Direct link to configuring-vid-and-view">​</a></h4><ul><li>After installing both of these dependencies, we need to open our <code>vid</code> configuration file <code>V.C config.js</code>.</li><li>In here, we have to include that plugin we have just installed, <code>plugin view</code>, into this array by calling this function <code>View</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-view-component">Creating a View Component<a href="#creating-a-view-component" class="hash-link" aria-label="Direct link to Creating a View Component" title="Direct link to Creating a View Component">​</a></h4><ul><li>Let&#x27;s remove everything from the <code>main.js</code> file and start writing a <code>view</code> component.</li><li>Inside of our <code>index.html</code> file, we already have an element with an <code>id</code> of <code>app</code>.</li><li>This will be an element where we&#x27;re going to mount our <code>view</code> application.</li><li>Firstly, we&#x27;re going to create the root component <code>app.view</code>.</li><li>For demonstration purposes, we&#x27;re going to use a very basic example of a counter component.</li><li>We&#x27;ll create a reactive variable by running the function <code>ref</code>.<ul><li>This variable will store the current value of our counter.</li></ul></li><li>Inside the template of this component, we&#x27;ll add an <code>H1</code> element with the text &quot;Counter.&quot;</li><li>Right under it, we&#x27;ll add a button to increment the <code>count</code> variable.</li><li>We&#x27;ll also output the value of the <code>count</code> variable in here.</li><li>We&#x27;ll register a click listener on this button which will increment the <code>count</code> variable.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="initializing-the-view-application">Initializing the <code>View</code> Application<a href="#initializing-the-view-application" class="hash-link" aria-label="Direct link to initializing-the-view-application" title="Direct link to initializing-the-view-application">​</a></h4><ul><li>Now that we have one <code>view</code> component, we need to initialize the <code>View</code> application in our main script.</li><li>Firstly, we&#x27;ll import our root component from the file <code>app.view</code>.</li><li>We&#x27;ll also need to import the function <code>createApp</code> from the <code>View</code> package.<ul><li>This function is going to be used to initialize our <code>View</code> application.</li></ul></li><li>In here, we&#x27;ll call this function <code>createApp</code>, pass in our root component, and then call the function <code>mount</code>, specifying an identifier of that element where we&#x27;re going to mount our application into.<ul><li>Just as a reminder, we already have an element with an <code>id</code> of <code>app</code> in our <code>index.html</code>.</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-view-application">Running the <code>View</code> Application<a href="#running-the-view-application" class="hash-link" aria-label="Direct link to running-the-view-application" title="Direct link to running-the-view-application">​</a></h4><ul><li>Now, in the browser, as we can see, we have a working counter.</li><li>Our <code>View</code> application was properly initialized.</li><li>Let&#x27;s take a look at the transformation which <code>vid</code> has applied to our <code>app</code> component.</li><li>I have additionally installed a plugin called <code>vid plugin inspect</code> to see what transformation <code>vid</code> applies to our modules.</li><li>We can open up this URL in the browser, and here we&#x27;re going to see all those transformations done to our modules.</li><li>Whenever we are importing <code>app.view</code> component, the plugin is going to take the content of this component and turn all this content into valid JavaScript code.<ul><li>In other words, into the render function, which will be called on the client side and render our component on the page.</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="examining-the-network-tab">Examining the Network Tab<a href="#examining-the-network-tab" class="hash-link" aria-label="Direct link to Examining the Network Tab" title="Direct link to Examining the Network Tab">​</a></h4><ul><li>Let&#x27;s also take a look at the network tab.</li><li>When the browser fetches <code>main.js</code>, it then fires a code to the server to fetch the content of the <code>app.view</code> component.</li><li>Instead of giving us the raw content of the <code>app.view</code> component, <code>vid</code> has applied the plugin to the file with the <code>.view</code> extension.<ul><li>This transformation converts the <code>view</code> template into valid JavaScript syntax.</li></ul></li><li>This is the code responsible for rendering the <code>counter</code> component on the page.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-15">Conclusion<a href="#conclusion-15" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h4><ul><li>As we can see, it was very easy to integrate the <code>View</code> framework into a <code>vid</code> project.</li><li>Initially, we just had to install two npm dependencies: <code>View</code> framework itself and the <code>vid</code> plugin to transform <code>View</code> files into JavaScript code.</li><li>After doing all these steps, we have provided full support for the <code>View</code> framework inside a <code>vid</code> project.</li><li>We can develop <code>View</code> applications in a normal way by creating components with <code>.view</code> extensions.</li><li>Importing those components, they will be properly transformed into valid JavaScript code, and everything will work fine.</li><li>This is how we integrate the <code>View</code> framework in <code>vid</code> projects.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-react-integration"><strong>=&gt;</strong> React integration<a href="#-react-integration" class="hash-link" aria-label="Direct link to -react-integration" title="Direct link to -react-integration">​</a></h3><ul><li><p>In this lesson, we&#x27;re going to take a look at how we can integrate React into a Vid project.</p></li><li><p>I have prepared an empty Vid project which doesn&#x27;t use any Frameworks, so let&#x27;s get to integrating React.</p></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="react-integration-options">React Integration Options<a href="#react-integration-options" class="hash-link" aria-label="Direct link to React Integration Options" title="Direct link to React Integration Options">​</a></h4><ul><li>Before we start, there is an option which Vid provides us with, which allows us to scaffold a Vid project with React integrated right from the beginning.</li><li>To do that, we just need to use <code>value react</code> for the <code>template</code> option and run the following command.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="manual-integration">Manual Integration<a href="#manual-integration" class="hash-link" aria-label="Direct link to Manual Integration" title="Direct link to Manual Integration">​</a></h4><ul><li>Just to better understand this whole process and how the integration happens, we&#x27;re going to do all these steps manually.</li><li>Before we start, we actually have to install all necessary npm packages, such as libraries <code>react</code>, <code>react-dom</code>, and <code>Vid plugin</code>, which allows us to import React components.</li><li>After all those libraries are installed, we have to open up the configuration file <code>V.C config.js</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-vid-for-react">Configuring Vid for React<a href="#configuring-vid-for-react" class="hash-link" aria-label="Direct link to Configuring Vid for React" title="Direct link to Configuring Vid for React">​</a></h4><ul><li>In here, let&#x27;s import the plugin from the <code>VJs plugin react</code> package.</li><li>Then, to include this plugin, we have to call this function <code>react</code> in this array of plugins.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="start-developing-with-react">Start Developing with React<a href="#start-developing-with-react" class="hash-link" aria-label="Direct link to Start Developing with React" title="Direct link to Start Developing with React">​</a></h4><ul><li>Now we can just start developing our React application.</li><li>Everything starts with the main script file <code>main.js</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="modifying-mainjs">Modifying Main.js<a href="#modifying-mainjs" class="hash-link" aria-label="Direct link to Modifying Main.js" title="Direct link to Modifying Main.js">​</a></h4><ul><li>Let&#x27;s remove everything from this file and also rename this file to <code>main.jsx</code> since we&#x27;re going to use JSX syntax in this file.</li><li>Also, we have to fix the path to this file inside of <code>index.html</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-the-root-component">Creating the Root Component<a href="#creating-the-root-component" class="hash-link" aria-label="Direct link to Creating the Root Component" title="Direct link to Creating the Root Component">​</a></h4><ul><li>As we can see, we already have a <code>&lt;div&gt;</code> with an identifier <code>app</code>. This will be where we&#x27;re going to mount our React application.</li><li>Let&#x27;s create our root component; we&#x27;ll call the new file <code>app.jsx</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="defining-the-root-component">Defining the Root Component<a href="#defining-the-root-component" class="hash-link" aria-label="Direct link to Defining the Root Component" title="Direct link to Defining the Root Component">​</a></h4><ul><li>Here, we&#x27;re going to use a simple example, which will be a basic counter component.</li><li>Let&#x27;s import the <code>useState</code> function from React.</li><li>We&#x27;re also going to create a file with styles and import them right here.</li><li>Then, let&#x27;s define our component function.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="component-structure">Component Structure<a href="#component-structure" class="hash-link" aria-label="Direct link to Component Structure" title="Direct link to Component Structure">​</a></h4><ul><li>This function is going to have only one state variable, which will be a <code>counter</code>.</li><li>The initial value for this counter will be zero.</li><li>Let&#x27;s define our template for this component.</li><li>We&#x27;re going to add an <code>&lt;h1&gt;</code> element with the counter text.</li><li>Below, we&#x27;re going to create a button that will increment our counter.</li><li>Just to see if our counter gets incremented, we&#x27;re also going to show this variable&#x27;s value as the label for this button.</li><li>Now, we&#x27;ll register the listener, which will be fired when clicking on this button.</li><li>Inside of this listener, we&#x27;re basically going to update the state variable <code>count</code> by incrementing it by one.</li><li>Finally, at the bottom of this file, let&#x27;s export this component as a default export.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="styling">Styling<a href="#styling" class="hash-link" aria-label="Direct link to Styling" title="Direct link to Styling">​</a></h4><ul><li>Just to check if we will be able to import CSS files with styles and those styles will be applied to our components, let&#x27;s create a basic CSS file with the name <code>app.css</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="initializing-react">Initializing React<a href="#initializing-react" class="hash-link" aria-label="Direct link to Initializing React" title="Direct link to Initializing React">​</a></h4><ul><li>Now that we have our root component in place, we actually have to initialize the React application inside our main script.</li><li>In here, we&#x27;re going to import <code>react-dom</code> library from the <code>react-dom</code> client.</li><li>We&#x27;re also going to import our root component <code>app</code> from <code>app.jsx</code>.</li><li>In this case, we&#x27;re going to mount it inside an element with an ID of <code>app</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="rendering-the-application">Rendering the Application<a href="#rendering-the-application" class="hash-link" aria-label="Direct link to Rendering the Application" title="Direct link to Rendering the Application">​</a></h4><ul><li>To render this application, we&#x27;re calling the <code>render</code> method, and as the parameter, we&#x27;re specifying our root component as a JSX.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="browser-output">Browser Output<a href="#browser-output" class="hash-link" aria-label="Direct link to Browser Output" title="Direct link to Browser Output">​</a></h4><ul><li>After that, if we&#x27;re going to take a look in a browser, sure enough, we&#x27;re going to see our working counter.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="understanding-transformations">Understanding Transformations<a href="#understanding-transformations" class="hash-link" aria-label="Direct link to Understanding Transformations" title="Direct link to Understanding Transformations">​</a></h4><ul><li>To see what transformations are being applied to our React components, we can use the plugin <code>inspect</code>, which I have already pre-installed.</li><li>This allows us to open up this URL in a browser and see transformations that happen to our imports.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="transformation-process">Transformation Process<a href="#transformation-process" class="hash-link" aria-label="Direct link to Transformation Process" title="Direct link to Transformation Process">​</a></h4><ul><li>In this case, once the browser reads <code>main.jsx</code> file, then it sees this import of <code>app.jsx</code> component.</li><li>It fires the call to the server to fetch the code of this component.</li><li>Instead of giving us the raw content of this component, Vid applies the React plugin to convert the content of this component into a render function.</li><li>This function will be recognized in the browser, and then this function runs in the browser.</li><li>This way, we&#x27;re seeing our counter component on the page.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="react-integration-recap">React Integration Recap<a href="#react-integration-recap" class="hash-link" aria-label="Direct link to React Integration Recap" title="Direct link to React Integration Recap">​</a></h4><ul><li>The whole process of React integration into Vid project was pretty simple.</li><li>Just to recap, we had to install three dependencies: <code>react</code>, <code>react-dom</code>, and the plugin for React.</li><li>Then, we had to include this plugin inside Vid configuration file in the plugins array.</li><li>This is what actually allows us to create and import React components in our files.</li><li>So we can start developing our React applications in Vid projects as we are used to.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-deploying-vite-project"><strong>=&gt;</strong> Deploying Vite project<a href="#-deploying-vite-project" class="hash-link" aria-label="Direct link to -deploying-vite-project" title="Direct link to -deploying-vite-project">​</a></h3><ul><li>We are slowly approaching the end of the course.</li><li>In this final lesson, we&#x27;re going to take a look at how to deploy our application.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="deployment-service-github-pages">Deployment Service: GitHub Pages<a href="#deployment-service-github-pages" class="hash-link" aria-label="Direct link to Deployment Service: GitHub Pages" title="Direct link to Deployment Service: GitHub Pages">​</a></h4><ul><li>The servers for the deployment that we are going to be using are called GitHub Pages.</li><li>In fact, there are many more services that provide support for deployment.</li><li>The deployment process is pretty simple for any of those services, so we&#x27;re going to review deployment steps using GitHub Pages.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="preparing-the-application">Preparing the Application<a href="#preparing-the-application" class="hash-link" aria-label="Direct link to Preparing the Application" title="Direct link to Preparing the Application">​</a></h4><ul><li>As always, I have already prepared a default Vite application that we&#x27;re going to deploy.</li><li>Before I get into the deployment, we need to make sure that our repository exists on GitHub (which, in my case, it does).</li><li>So we can go directly to the deployment without changing any default configurations.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="building-the-project-1">Building the Project<a href="#building-the-project-1" class="hash-link" aria-label="Direct link to Building the Project" title="Direct link to Building the Project">​</a></h4><ul><li>After building our project, all build files will be located inside the <code>docs</code> folder.</li><li>This is exactly the folder which is going to be deployed.</li><li>In <code>docs</code>, let&#x27;s choose the option &quot;deployment moment to GitHub Pages.&quot;</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="repository-url">Repository URL<a href="#repository-url" class="hash-link" aria-label="Direct link to Repository URL" title="Direct link to Repository URL">​</a></h4><ul><li>Our repository URL corresponds to this format, where we have two URL segments:<ol><li>Our GitHub username.</li><li>The name of the repository.</li></ol></li><li>The only configuration option we have to specify will be the option called <code>base</code>, and this option should contain the name of our repository.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-configuration-file">Creating a Configuration File<a href="#creating-a-configuration-file" class="hash-link" aria-label="Direct link to Creating a Configuration File" title="Direct link to Creating a Configuration File">​</a></h4><ul><li>Let&#x27;s create a configuration file <code>vite.config.js</code> in the root of this project.</li><li>From here, we&#x27;re going to export a configuration object with only one option: <code>base</code>, where we&#x27;re going to specify the repository name (which, in my case, is <code>with-Dash-deployment</code>).</li><li>This option value should match the repository name on GitHub.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="commit-and-push">Commit and Push<a href="#commit-and-push" class="hash-link" aria-label="Direct link to Commit and Push" title="Direct link to Commit and Push">​</a></h4><ul><li>Now, we have to create a new commit where we&#x27;re going to include our configuration file.</li><li>Let&#x27;s specify a message and push this commit to GitHub.</li><li>After that, let&#x27;s make sure that the new commit appears in the GitHub history of our project.</li><li>It is this second commit.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="github-settings">GitHub Settings<a href="#github-settings" class="hash-link" aria-label="Direct link to GitHub Settings" title="Direct link to GitHub Settings">​</a></h4><ul><li>Let&#x27;s open up the settings tab.</li><li>The main branch of our repository is <code>main</code>, so we&#x27;re going to deploy this branch.</li><li>Now, on the left side, let&#x27;s open up the page called &quot;pages.&quot;</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="deployment-configurations">Deployment Configurations<a href="#deployment-configurations" class="hash-link" aria-label="Direct link to Deployment Configurations" title="Direct link to Deployment Configurations">​</a></h4><ul><li>In here, we have to set up some deployment configurations.</li><li>Firstly, in this Source dropdown, we have to choose the option &quot;GitHub Actions.&quot;</li><li>Then, let&#x27;s click this link &quot;create your own,&quot; which is basically going to create an empty deployment configuration file.</li><li>Let&#x27;s clear out all the predefined content and specify our run configurations.</li><li>These configurations are listed in Vite Docs, so we just have to copy over this whole configuration and paste it in that file.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-options">Configuration Options<a href="#configuration-options" class="hash-link" aria-label="Direct link to Configuration Options" title="Direct link to Configuration Options">​</a></h4><ul><li>Let&#x27;s quickly go through some of the options specified in this file:<ul><li>We can see which branch is going to be deployed.</li><li>In here, we can see that the node version used to build our project will be version 18.</li><li>We&#x27;re going to install all npm dependencies by running <code>npm install</code>.</li><li>After that, we&#x27;re going to build the project by running <code>npm run build</code>.</li><li>At the end, once this folder with our build files is created, this folder will be deployed to GitHub Pages server.</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-file-name">Configuration File Name<a href="#configuration-file-name" class="hash-link" aria-label="Direct link to Configuration File Name" title="Direct link to Configuration File Name">​</a></h4><ul><li>Let&#x27;s give this configuration file a name, for example, <code>deploy.yml</code>, and click &quot;commit changes.&quot;</li><li>In here, let&#x27;s make sure that the new commit will be created on the main branch.</li><li>Let&#x27;s click &quot;commit changes&quot; once again, and then we can see another new commit in the commit history.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="github-actions">GitHub Actions<a href="#github-actions" class="hash-link" aria-label="Direct link to GitHub Actions" title="Direct link to GitHub Actions">​</a></h4><ul><li>If we open the &quot;Actions&quot; tab, here we can actually see the new deployment task that is currently running.</li><li>This is our deployment task, so anytime we push changes to the main branch, it will automatically kick off the deployment process.</li><li>By clicking on this task, we can inspect what steps are executed during the deployment.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="deployment-successful">Deployment Successful<a href="#deployment-successful" class="hash-link" aria-label="Direct link to Deployment Successful" title="Direct link to Deployment Successful">​</a></h4><ul><li>Once this deployment is successfully finished, we can once again open up the &quot;Settings&quot; tab and go to the &quot;Pages&quot; page.</li><li>In here, we will see the URL where our application will be available on the web.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="application-deployment">Application Deployment<a href="#application-deployment" class="hash-link" aria-label="Direct link to Application Deployment" title="Direct link to Application Deployment">​</a></h4><ul><li>By following this URL, we can see that our application was successfully deployed on GitHub Pages.</li><li>That&#x27;s it! We were able to successfully deploy the application on GitHub Pages server, as we can see it was a pretty simple process.</li><li>If we decide to deploy our project using another hosting provider, the deployment process is going to be pretty simple as well.</li><li>And with that, we are finishing this course about Vite bundler.</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/fundamentals/category/vite/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">VITE</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/fundamentals/category/pprojects/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">PPROJECTS</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#-installing-vite" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Installing Vite</a></li><li><a href="#-resolving-npm-dependencies" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Resolving NPM dependencies</a></li><li><a href="#-css-imports" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> CSS imports</a></li><li><a href="#-css-modules" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> CSS modules</a></li><li><a href="#-postcss-plugins-tailwindcss-installation" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> PostCSS plugins (TailwindCSS installation)</a></li><li><a href="#-css-pre-processors-sass" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> CSS pre-processors (Sass)</a></li><li><a href="#-json-imports" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> JSON imports</a></li><li><a href="#-static-assets" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Static assets</a></li><li><a href="#-public-directory" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Public directory</a></li><li><a href="#-glob-imports" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Glob imports</a></li><li><a href="#-named-glob-imports" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Named glob imports</a></li><li><a href="#-jsx" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> JSX</a></li><li><a href="#-typescript" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> TypeScript</a></li><li><a href="#-eslint" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> ESLint</a></li><li><a href="#-path-aliases" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Path aliases</a></li><li><a href="#-environment-variables" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Environment variables</a></li><li><a href="#-multi-page-app" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Multi-page app</a></li><li><a href="#-library-mode" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Library mode</a></li><li><a href="#-multiple-library-entry-points" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Multiple library entry points</a></li><li><a href="#-importing-library-using-require" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Importing library using require</a></li><li><a href="#-external-dependencies" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> External dependencies</a></li><li><a href="#-publishing-npm-package" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Publishing NPM package</a></li><li><a href="#-image-optimization" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Image optimization</a></li><li><a href="#-plugin-creation" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Plugin creation</a></li><li><a href="#-plugin-options" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Plugin options</a></li><li><a href="#-server-options" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Server options</a></li><li><a href="#-hot-module-replacement-hmr" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Hot Module Replacement (HMR)</a></li><li><a href="#-client-server-communication" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Client-server Communication</a></li><li><a href="#-accepting-hot-updates" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Accepting hot updates</a></li><li><a href="#-disposing-hot-updates" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Disposing hot updates</a></li><li><a href="#-vue-integration" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Vue integration</a></li><li><a href="#-react-integration" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> React integration</a></li><li><a href="#-deploying-vite-project" class="table-of-contents__link toc-highlight"><strong>=&gt;</strong> Deploying Vite project</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 ExpoWindow.io, Built with Docusaurus.</div></div></div></footer></div>
<script src="/fundamentals/assets/js/runtime~main.9c7077f2.js"></script>
<script src="/fundamentals/assets/js/main.c7d3ec1d.js"></script>
</body>
</html>